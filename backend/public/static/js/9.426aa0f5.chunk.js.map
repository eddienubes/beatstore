{"version":3,"sources":["components/license-type-modal/license-type-modal.jsx","components/license-type-modal/index.js","components/to-cart-button/to-cart-button.jsx","components/to-cart-button/index.js","hooks/trace-updates-hook.js","components/track-title/track-title.jsx","components/track-title/index.js","../../node_modules/tslib/tslib.es6.js","../../node_modules/throttle-debounce/dist/index.esm.js","components/big-search/big-search.jsx","components/download-button/index.js","components/download-button/download-button.jsx","components/current-track/current-track.jsx","components/current-track/index.js","components/track/index.js","components/track/track.jsx","components/tracks-table/tracks-table.jsx","components/audio-spectrum/audio-spectrum.jsx","components/filter/index.js","components/filter/filter.jsx","pages/beats-page/beats-page.jsx","pages/beats-page/index.js"],"names":["ToCartButton","trackId","price","licenseType","setOpen","caption","desc","popup","licenseId","isInCart","dispatch","useDispatch","history","useHistory","console","log","onClick","e","stopPropagation","replace","appendToCart","product","beatId","className","_id","toString","icon","faCheck","LicenseTypeModal","props","useSelector","state","licensesReducer","isLoading","licenses","show","captions","useMemo","popups","imageUrl","process","track","imgUrl","TransitionablePortal","open","transition","animation","duration","Modal","basic","onOpen","onClose","size","centered","Content","onBlur","Row","Col","xl","md","sm","src","alt","title","tags","map","tag","i","key","bpm","type","label","toLowerCase","id","Actions","Button","inverted","faTimes","useState","modalShow","setModalShow","faCheckCircle","faShoppingCart","buttonClass","require","useEffect","useRef","TrackTitle","to","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","assign","t","s","n","arguments","length","prototype","call","apply","this","delay","noTrailing","callback","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","clearTimeout","wrapper","self","elapsed","Date","now","args","exec","clear","undefined","setTimeout","cancel","__","constructor","create","BigSearch","isMain","search","setSearch","formState","beatsReducer","filter","data-text","placeholder","autoComplete","value","onChange","target","filterSearchSet","Math","floor","window","innerHeight","onKeyPress","push","faSearch","DownloadButton","fileName","loading","setLoading","loaded","total","progress","setProgress","pow","toFixed","beatstoreService","BeatstoreService","downloadBeat","then","res","url","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","body","appendChild","click","parentNode","removeChild","catch","err","Error","faDownload","CurrentTrack","color","audioReducer","isPlaying","cart","userReducer","items","find","dateObj","loadTime","month","getUTCMonth","day","getUTCDate","date","getUTCFullYear","style","background","audioStopped","audioLoaded","audioPlayed","faPause","faPlay","index","innerText","Track","React","memo","onSelected","previousId","cartItems","isActive","setActive","useContext","AudioInstanceContext","audioInstance","Table","Cell","scale","prevProps","nextProps","some","newCartItem","oldCartItem","selectedId","setSelected","beatList","error","hasMore","isFiltering","skip","firstMountBeatCount","beatsDropped","fetchBeats","filterDropped","tracks","beat","genres","moods","next","limit","loader","dataLength","onScroll","structured","unstackable","Header","HeaderCell","width","textAlign","Body","slice","makeStyles","theme","flexContainer","display","flexWrap","justifyContent","paddingTop","Filter","info","isLoadingInfo","setFormState","fetchInfo","stateKeys","text","bpms","onChangeHandler","newState","tabIndex","isChanged","lg","Dropdown","wrapSelection","faAngleUp","faAngleDown","fluid","selection","options","BeatsPage"],"mappings":"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","file":"static/js/9.426aa0f5.chunk.js","sourcesContent":["import React, {useMemo} from 'react';\r\nimport './license-type-modal.scss';\r\nimport {Col, Row} from 'react-bootstrap'\r\nimport {Button, Modal, TransitionablePortal} from 'semantic-ui-react'\r\nimport {faTimes} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport SpinnerAudio from \"../spinner-audio\";\r\nimport {appendToCart} from \"../../redux/actions\";\r\nimport {faCheck} from \"@fortawesome/free-solid-svg-icons/faCheck\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst ToCartButton = ({trackId, price, licenseType, setOpen, caption, desc, popup, licenseId, isInCart}) => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    console.log(licenseType);\r\n    return (\r\n        <button onClick={(e) => {\r\n            e.stopPropagation();\r\n            if (licenseType === 5) {\r\n                history.replace('/contact');\r\n            }\r\n            else {\r\n                dispatch(appendToCart({product: {beatId: trackId, licenseId}}));\r\n            }\r\n            setOpen();\r\n        }}\r\n                className=\"license-button-choice mp3-lease\">\r\n            {isInCart ? isInCart.licenseId._id.toString() === licenseId ?\r\n                <div className={`selected-in-cart`}><FontAwesomeIcon icon={faCheck}/></div> : null : null}\r\n            <div className=\"license__choice-caption\">{caption}</div>\r\n            <div className=\"license__choice-price\">${price}</div>\r\n            <div className=\"license__choice-desc\">{desc}</div>\r\n            <div className=\"popup\">{popup}</div>\r\n        </button>\r\n    );\r\n};\r\n\r\n\r\nconst LicenseTypeModal = (props) => {\r\n    const {isLoading, licenses} = useSelector(state => state.licensesReducer);\r\n    let show = props.show;\r\n    const setOpen = props.setOpen;\r\n\r\n    const captions = useMemo(() => ['mp3 lease', 'wav lease', 'track out lease', 'unlimited lease', 'exclusive'], []);\r\n    const desc = useMemo(() => ['MP3', 'MP3 AND WAV', 'MP3, WAV AND TRACK STEMS', 'MP3, WAV AND TRACK STEMS', 'JUST CONTACT ME ' +\r\n    'VIA CONTACT FORM OR USING ' +\r\n    'EMAIL/INSTAGRAM'], []);\r\n    const popups = useMemo(() => ['CLICK TO ADD IN YOUR CART', 'CLICK TO GO TO CONTACT PAGE'], []);\r\n    const imageUrl = useMemo(() => process.env.REACT_APP_BACKEND_ASSET_URL + props.track.imgUrl, [props.track]);\r\n\r\n    if (isLoading) {\r\n        return (<SpinnerAudio/>);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <TransitionablePortal open={show} transition={{animation: 'zoom', duration: 350}}>\r\n                <Modal\r\n                    className=\"license__main-modal-container\"\r\n                    basic\r\n                    onOpen={(e) => {\r\n                        e.stopPropagation();\r\n\r\n                        setOpen(true);\r\n                    }}\r\n                    onClose={(e) => {\r\n                        e.stopPropagation();\r\n\r\n\r\n                        setOpen(false);\r\n                    }}\r\n                    open={true}\r\n                    size='small'\r\n                    centered\r\n                >\r\n                    <Modal.Content onClick={e => {\r\n                        e.stopPropagation()\r\n                    }} className=\"licenses-container\"\r\n                                   onBlur={e => {\r\n                                       e.stopPropagation();\r\n                                   }}\r\n                    >\r\n                        <div className=\"licenses-container\">\r\n                            <Row className=\"track-description-container\">\r\n                                <Col xl={1} md={2} sm={2} className=\"license__img-container\">\r\n                                    <img className=\"license__img-main\" src={imageUrl} alt=\"track\"/>\r\n                                </Col>\r\n                                <Col xl={6} md={4} sm={4} className=\"license__beat_information\">\r\n                                    <div className=\"license__beat-name\">\r\n                                        <span className=\"license__green\">Track name:</span> {props.track.title}\r\n                                    </div>\r\n                                    <div className=\"license__author-name\">\r\n                                        <span className=\"license__green\">Producer:</span> Cherries\r\n                                    </div>\r\n                                    <div className=\"license__tags-container\">\r\n                                        <span>Tags:</span> {props.track.tags.map((tag, i) => <span key={i}\r\n                                                                                                   className=\"tag\">#{tag}&nbsp;</span>)}\r\n                                    </div>\r\n                                    <div className=\"license__bpm\">\r\n                                        <span className=\"license_bpm-caption\">BPM: </span> {props.track.bpm}\r\n                                    </div>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n\r\n                                <Col xl={3} md={4} sm={12}>\r\n                                    <ToCartButton\r\n                                        licenseType={licenses[3].type}\r\n                                        price={licenses[3].price}\r\n                                        caption={licenses[3].label.toLowerCase()}\r\n                                        desc={desc[0]}\r\n                                        popup={popups[0]}\r\n                                        setOpen={() => {\r\n                                            setOpen(false)\r\n                                        }}\r\n                                        isInCart={props.isInCart}\r\n                                        licenseId={licenses[3].id}\r\n                                        trackId={props.track.id}\r\n                                    />\r\n                                </Col>\r\n                                <Col xl={3} md={4} sm={12}>\r\n                                    <ToCartButton\r\n                                        licenseType={licenses[2].type}\r\n                                        price={licenses[2].price}\r\n                                        caption={licenses[2].label.toLowerCase()}\r\n                                        desc={desc[1]}\r\n                                        popup={popups[0]}\r\n                                        setOpen={() => {\r\n                                            setOpen(false)\r\n                                        }}\r\n                                        isInCart={props.isInCart}\r\n                                        licenseId={licenses[2].id}\r\n                                        trackId={props.track.id}\r\n                                    />\r\n                                </Col>\r\n                                <Col xl={3} md={4} sm={12}>\r\n                                    <ToCartButton\r\n                                        licenseType={licenses[1].type}\r\n                                        price={licenses[1].price}\r\n                                        caption={licenses[1].label.toLowerCase()}\r\n                                        desc={desc[2]}\r\n                                        popup={popups[0]}\r\n                                        setOpen={() => {\r\n                                            setOpen(false)\r\n                                        }}\r\n                                        isInCart={props.isInCart}\r\n                                        licenseId={licenses[1].id}\r\n                                        trackId={props.track.id}\r\n\r\n                                    />\r\n                                </Col>\r\n                                <Col xl={3} md={6} sm={12}>\r\n                                    <ToCartButton\r\n                                        licenseType={licenses[0].type}\r\n                                        price={licenses[0].price}\r\n                                        caption={licenses[0].label.toLowerCase()}\r\n                                        desc={desc[3]}\r\n                                        popup={popups[0]}\r\n                                        setOpen={() => {\r\n                                            setOpen(false)\r\n                                        }}\r\n                                        isInCart={props.isInCart}\r\n                                        licenseId={licenses[0].id}\r\n                                        trackId={props.track.id}\r\n                                    />\r\n                                </Col>\r\n\r\n                                <Col xl={12} md={6} sm={12}>\r\n                                    <ToCartButton\r\n                                        licenseType={5}\r\n                                        price={'~'}\r\n                                        caption={captions[4]}\r\n                                        desc={desc[4]}\r\n                                        popup={popups[1]}\r\n                                        setOpen={() => {\r\n                                            setOpen(false)\r\n                                        }}\r\n                                    />\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                    </Modal.Content>\r\n                    <Modal.Actions onClick={e => e.stopPropagation()}>\r\n                        <Button basic className=\"license__choice-close-button\" inverted\r\n                                onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    setOpen(false)\r\n                                }}>\r\n                            <div\r\n\r\n                                className=\"license__close-button-icon\"><FontAwesomeIcon icon={faTimes}/> Close\r\n                            </div>\r\n                        </Button>\r\n                    </Modal.Actions>\r\n                </Modal>\r\n            </TransitionablePortal>\r\n        </>\r\n\r\n    );\r\n};\r\n\r\nexport default LicenseTypeModal;\r\n\r\n","import LicenseTypeModal from \"./license-type-modal\";\r\n\r\nexport default LicenseTypeModal;","import React, { useState } from 'react';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faShoppingCart, faCheckCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport LicenseTypeModal from \"../license-type-modal\";\r\nimport './to-cart-button.scss';\r\n\r\nconst ToCartButton = ({isInCart, track}) => {\r\n    const [modalShow, setModalShow] = useState(false);\r\n\r\n    return (\r\n        <div className=\"to-cart-button__wrapper\">\r\n            <button className={`track__to-cart-button ${isInCart ? \"in-cart-button\" : null}`}\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        setModalShow(true);\r\n                    }}>\r\n                {isInCart ?\r\n                    <><FontAwesomeIcon icon={faCheckCircle}/> IN CART</> :\r\n                    <><FontAwesomeIcon icon={faShoppingCart}/> ADD</>}\r\n            </button>\r\n            <LicenseTypeModal key={track.id}\r\n                              isInCart={isInCart}\r\n                              track={track}\r\n                              buttonClass=\"cart_button\"\r\n                              show={modalShow}\r\n                              setOpen={setModalShow}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ToCartButton;","\r\n\r\nimport ToCartButton from \"./to-cart-button\";\r\n\r\nexport default ToCartButton;","const {useEffect} = require(\"react\");\r\nconst {useRef} = require(\"react\");\r\n\r\n\r\nconst useTraceUpdate = (props) => {\r\n    const prev = useRef(props);\r\n    useEffect(() => {\r\n        const changedProps = Object.entries(props).reduce((ps, [k, v]) => {\r\n            if (prev.current[k] !== v) {\r\n                ps[k] = [prev.current[k], v];\r\n            }\r\n            return ps;\r\n        }, {});\r\n        if (Object.keys(changedProps).length > 0) {\r\n            console.log('Changed props:', changedProps);\r\n        }\r\n        prev.current = props;\r\n    });\r\n}\r\n\r\nexport default useTraceUpdate;","import React from 'react';\r\nimport './track-title.scss';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst TrackTitle = ({ id, title }) => {\r\n    return (\r\n        <span className=\"track-title-container\">\r\n            <Link onClick={e => e.stopPropagation()} to={`/beats/${id}`}>{title}</Link>\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default TrackTitle;","import TrackTitle from \"./track-title\";\r\n\r\nexport default TrackTitle;","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {Number}    delay          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}   [noTrailing]   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset)\n * @param  {Function}  callback       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {Boolean}   [debounceMode] If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @return {Function}  A new, throttled, function.\n */\nfunction throttle (delay, noTrailing, callback, debounceMode) {\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel() {\n    clearExistingTimeout();\n    cancelled = true;\n  } // `noTrailing` defaults to falsy.\n\n\n  if (typeof noTrailing !== 'boolean') {\n    debounceMode = callback;\n    callback = noTrailing;\n    noTrailing = undefined;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n    var args = arguments;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, args);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      /*\n       * In throttle mode, if `delay` time has been exceeded, execute\n       * `callback`.\n       */\n      exec();\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n\n/* eslint-disable no-undefined */\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {Number}   delay         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}  [atBegin]     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @return {Function} A new, debounced function.\n */\n\nfunction debounce (delay, atBegin, callback) {\n  return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nexport { throttle, debounce };\n","import React, {useState} from \"react\";\r\nimport \"./big-search.scss\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faSearch} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {filter, filterSearchSet} from \"../../redux/actions/actions\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst BigSearch = ({isMain = false}) => {\r\n    const [search, setSearch] = useState('');\r\n    const dispatch = useDispatch();\r\n    const formState = useSelector(state => state.beatsReducer).filter;\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <div className=\"big-search\">\r\n            <h1 className=\"glitch\" data-text=\"Cherries By\">Cherries By</h1>\r\n            <span className=\"sub\">BEATSTORE</span>\r\n            {/*<h1 className=\"logo\">Cherries By</h1>*/}\r\n            <div className=\"search\">\r\n                <input placeholder=\"What type of track are you looking for?\"\r\n                       id=\"search\"\r\n                       type=\"search\"\r\n                       autoComplete=\"off\"\r\n                       value={formState.search}\r\n                       onChange={e => {\r\n                           setSearch(e.target.value);\r\n                           dispatch(filterSearchSet(e.target.value));\r\n\r\n                            if (!isMain) {\r\n                                dispatch(filter(undefined, Math.floor(window.innerHeight / 65)));\r\n                            }\r\n                       }}\r\n                       onKeyPress={e => {\r\n                           if (e.key === 'Enter' && isMain) {\r\n                               history.push('/beats');\r\n                           }\r\n                           else if (!isMain && e.key === 'Enter') {\r\n                               dispatch(filter(undefined, Math.floor(window.innerHeight / 65)));\r\n                           }\r\n                       }}\r\n                />\r\n                <button className=\"search-magnifier-button\" onClick={() => {\r\n                    setSearch(formState.search);\r\n                    if (search.length > 0) {\r\n\r\n                        if (isMain) {\r\n                            history.push('/beats');\r\n                        }\r\n                        else if (!isMain) {\r\n                            dispatch(filter(undefined, Math.floor(window.innerHeight / 65)));\r\n                        }\r\n                    }\r\n                }}>\r\n                    <FontAwesomeIcon icon={faSearch}/>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default BigSearch;\r\n","import DownloadButton from \"./download-button\";\r\n\r\nexport default DownloadButton;","import React, { useState } from 'react';\r\nimport BeatstoreService from \"../../services\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faDownload } from \"@fortawesome/free-solid-svg-icons\";\r\nimport SpinnerAudio from \"../spinner-audio\";\r\nimport './download-button.scss';\r\n\r\nconst DownloadButton = ({ id, fileName }) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [progress, setProgress] = useState({\r\n        loaded: 0,\r\n        total: 0\r\n    });\r\n\r\n    const handleClick = () => {\r\n        const beatstoreService = new BeatstoreService();\r\n        setLoading(true);\r\n        beatstoreService.downloadBeat(id, setProgress)\r\n            .then(res => {\r\n                const url = window.URL.createObjectURL(new Blob([res.data]));\r\n                const link = document.createElement('a');\r\n                console.log(url);\r\n                link.href = url;\r\n                link.setAttribute('download', `${fileName}.mp3`);\r\n\r\n                document.body.appendChild(link);\r\n\r\n                link.click();\r\n\r\n                link.parentNode.removeChild(link);\r\n                setLoading(false);\r\n            })\r\n            .catch(err => {\r\n                setLoading(false);\r\n                throw new Error(err)\r\n            });\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"download-button__wrapper\">\r\n            {\r\n                !loading ? (<button onClick={handleClick}><FontAwesomeIcon icon={faDownload}/>\r\n                        &nbsp;DOWNLOAD\r\n                    </button>) :\r\n                    <div className=\"indicator\">\r\n                        <SpinnerAudio/>\r\n                        {(progress.loaded * Math.pow(10, -6)).toFixed(2)} mb of\r\n                        &nbsp;{(progress.total * Math.pow(10, -6)).toFixed(2)} mb\r\n                    </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DownloadButton;","import React, { useMemo } from 'react';\r\nimport './current-track.scss';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { audioLoaded, audioPlayed, audioStopped, filterSearchSet } from \"../../redux/actions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { faPause, faPlay } from \"@fortawesome/free-solid-svg-icons\";\r\nimport ToCartButton from \"../to-cart-button\";\r\nimport DownloadButton from \"../download-button\";\r\nimport { filter } from \"../../redux/actions/actions\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\nconst CurrentTrack = ({ track, color }) => {\r\n    const { id, isPlaying } = useSelector(state => state.audioReducer);\r\n    const { cart } = useSelector(state => state.userReducer);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const isInCart = useMemo(() => cart.items.find(i => {\r\n        return i.beatId._id.toString() === track?.id?.toString()\r\n    }), [cart.items]);\r\n\r\n    const handlePlay = (e) => {\r\n        e.stopPropagation();\r\n\r\n        if (track.id === id && isPlaying) {\r\n            dispatch(audioStopped());\r\n        } else if (track.id !== id) {\r\n            dispatch(audioLoaded(track.id));\r\n        } else if (track.id === id && !isPlaying) {\r\n            dispatch(audioPlayed());\r\n        }\r\n    }\r\n\r\n\r\n    const imageUrl = process.env.REACT_APP_BACKEND_ASSET_URL + track.imgUrl;\r\n\r\n    const dateObj = new Date(track.loadTime);\r\n    const month = dateObj.getUTCMonth() + 1; //months from 1-12\r\n    const day = dateObj.getUTCDate();\r\n    const year = dateObj.getUTCFullYear();\r\n\r\n    const date = year + \"/\" + month + \"/\" + day;\r\n\r\n    return (\r\n        <div className={`current-track-container`}>\r\n            <div className={`img-container-featured`}\r\n                 style={{ background: `linear-gradient(${color}, black)` }}>\r\n            </div>\r\n            <div className={`content`}>\r\n                <div className={`content-img-container-featured`}>\r\n                    <img src={imageUrl} alt=\"featured track image\"/>\r\n                    <div className={`icon-play-container`}\r\n                         onClick={handlePlay}\r\n                    >\r\n                        <FontAwesomeIcon className={`icon-play`}\r\n                                         icon={id === track.id && isPlaying ? faPause : faPlay}/>\r\n                    </div>\r\n                </div>\r\n                <div className={`info`}>\r\n                    <p className={`title`}>{track.title}</p>\r\n                    <p className={`author`}>✍ Cherries By</p>\r\n                    <p className={`date`}>🕒 {date}</p>\r\n                    <div className={`footer`}>\r\n                        <ToCartButton isInCart={isInCart} track={track}/>\r\n                        <DownloadButton id={track.id} fileName={track.title}/>\r\n                        <div className={`tags-container`}>\r\n                            {track.tags.map((t, index) => {\r\n                                if (index < 3) {\r\n                                    return (<p\r\n                                        key={index + t + track.id}\r\n                                        onClick={e => {\r\n                                            e.stopPropagation();\r\n                                            dispatch(filterSearchSet(e.target.innerText));\r\n                                            dispatch(filter(undefined, Math.floor(window.innerHeight / 65)));\r\n                                            history.push('/beats');\r\n                                        }}\r\n                                    >#{t}</p>);\r\n                                }\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CurrentTrack;","import CurrentTrack from \"./current-track\";\r\n\r\nexport default CurrentTrack;","import Track from './track';\r\n\r\nexport default Track;","import React, {useContext, useEffect, useMemo, useState} from \"react\";\r\nimport \"./track.scss\";\r\nimport {faShoppingCart} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport LicenseTypeModal from \"../license-type-modal\";\r\nimport {Table} from 'semantic-ui-react';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {audioLoaded, audioPlayed, audioStopped, filterSearchSet} from \"../../redux/actions\";\r\nimport AudioInstanceContext from \"../audio-instance-context\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {filter} from \"../../redux/actions/actions\";\r\nimport ToCartButton from \"../to-cart-button\";\r\nimport useTraceUpdate from \"../../hooks/trace-updates-hook\";\r\nimport {Link} from 'react-router-dom';\r\nimport TrackTitle from \"../track-title\";\r\n\r\nconst Track = ({track, onSelected, index, id, previousId, isPlaying, cartItems}) => {\r\n\r\n    const [isActive, setActive] = useState(false);\r\n    const dispatch = useDispatch();\r\n    const {audioInstance} = useContext(AudioInstanceContext).state;\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (track.id === id && isPlaying) {\r\n            setActive(true);\r\n        } else if (track.id === id && !isPlaying) {\r\n            setActive(false);\r\n        } else {\r\n            setActive(false);\r\n        }\r\n    }, [id, isPlaying]);\r\n\r\n\r\n    const isInCart = cartItems.find(i => {\r\n        return i.beatId._id.toString() === track.id.toString()\r\n    });\r\n\r\n    const onClick = (e) => {\r\n        e.stopPropagation();\r\n\r\n        if (track.id === id && isPlaying) {\r\n            dispatch(audioStopped());\r\n        } else if (track.id !== id) {\r\n            dispatch(audioLoaded(track.id));\r\n        } else if (track.id === id && !isPlaying) {\r\n            dispatch(audioPlayed());\r\n        }\r\n    };\r\n\r\n    const imageUrl = useMemo(() => process.env.REACT_APP_BACKEND_ASSET_URL + track.imgUrl, [track]);\r\n\r\n    return (\r\n        <Table.Row className={`main-row-track ${isActive ? \"selected_tr\" : null}`}\r\n                   onClick={onClick}>\r\n            <Table.Cell className={`tracks__title`}>\r\n                <div className=\"track__td-img\">\r\n                    <img className=\"td-img-main\" src={imageUrl} alt=\"beat image\"/>\r\n                </div>\r\n                <TrackTitle title={track.title} id={track.id}/>\r\n            </Table.Cell>\r\n            <Table.Cell>\r\n                {track.duration}\r\n            </Table.Cell>\r\n            <Table.Cell>\r\n                {track.bpm}\r\n            </Table.Cell>\r\n            <Table.Cell className={`tracks__scale`}>\r\n                {track.scale}\r\n            </Table.Cell>\r\n            <Table.Cell className={`track__tags`}>\r\n                <div className={`tags-container`}>\r\n                    {track.tags.map((tag, i) => <b\r\n                        key={i}\r\n                        className=\"track__tag\"\r\n                        onClick={e => {\r\n                            e.stopPropagation();\r\n                            // dispatch(filterDropped());\r\n                            dispatch(filterSearchSet(e.target.innerText));\r\n                            dispatch(filter(undefined, Math.floor(window.innerHeight / 65)));\r\n                            history.push('/beats');\r\n                        }}\r\n                    >#{tag}</b>)}\r\n                </div>\r\n            </Table.Cell>\r\n            <Table.Cell className={`tracks__button-buy`}>\r\n                <ToCartButton isInCart={isInCart} track={track}/>\r\n            </Table.Cell>\r\n        </Table.Row>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default React.memo(Track, (prevProps, nextProps) => {\r\n    const trackId = prevProps.track.id;\r\n\r\n    console.log(nextProps.cartItems.some(i => i.beatId._id.toString() === trackId.toString(),\r\n        prevProps.cartItems.some(i => i.beatId._id.toString() === trackId.toString())));\r\n\r\n    const newCartItem = nextProps.cartItems.find(i => {\r\n        return i.beatId._id.toString() === trackId.toString()\r\n    });\r\n    const oldCartItem = prevProps.cartItems.find(i => {\r\n        return i.beatId._id.toString() === trackId.toString()\r\n    });\r\n\r\n    if (newCartItem && oldCartItem && newCartItem.licenseId._id !== oldCartItem.licenseId._id) {\r\n        return false;\r\n    }\r\n\r\n    if (nextProps.cartItems.some(i => i.beatId._id.toString() === trackId.toString()) !==\r\n        prevProps.cartItems.some(i => i.beatId._id.toString() === trackId.toString())\r\n    ) {\r\n        return false;\r\n    }\r\n\r\n    return trackId !== nextProps.id &&\r\n        trackId !== nextProps.previousId;\r\n});","import React, {useContext, useEffect, useMemo, useState} from \"react\";\r\nimport Track from \"../track\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\nimport {fetchBeats, filterDropped} from \"../../redux/actions\";\r\nimport {Table} from 'semantic-ui-react';\r\nimport Spinner from \"../spinner\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport AudioInstanceContext from \"../audio-instance-context\";\r\n\r\nimport \"./tracks-table.scss\";\r\nimport {beatsDropped} from \"../../redux/actions/actions\";\r\n\r\nconst TracksTable = ({isMain = true}) => {\r\n    const [selectedId, setSelected] = useState(null);\r\n    const {\r\n        beatList,\r\n        isLoading,\r\n        error,\r\n        hasMore,\r\n        skip,\r\n        isFiltering,\r\n        filter,\r\n    } = useSelector(state => state.beatsReducer);\r\n    const {audioInstance} = useContext(AudioInstanceContext).state;\r\n    const dispatch = useDispatch();\r\n    const {id, isPlaying, previousId} = useSelector(state => state.audioReducer);\r\n    const {items} = useSelector(state => state.userReducer).cart;\r\n\r\n    const firstMountBeatCount = useMemo(() => Math.floor(window.innerHeight / 65), [window.innerHeight]);\r\n\r\n    const loadBeats = (limit) => {\r\n        dispatch(fetchBeats(limit));\r\n    };\r\n\r\n    useEffect(() => {\r\n        // dispatch(filterDropped());\r\n        dispatch(beatsDropped());\r\n        if (!isFiltering) {\r\n            dispatch(fetchBeats(firstMountBeatCount));\r\n        }\r\n\r\n        return () => {\r\n            if (!isMain) {\r\n                dispatch(filterDropped());\r\n            } else {\r\n                dispatch(beatsDropped());\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const tracks = useMemo(() => {\r\n        return beatList.map((beat, index) => {\r\n            return <Track\r\n                index={index}\r\n                key={beat.id}\r\n                track={beat}\r\n                onSelected={(id) => setSelected(id)}\r\n                selectedId={selectedId}\r\n                id={id}\r\n                isPlaying={isPlaying}\r\n                previousId={previousId}\r\n                cartItems={items}\r\n            />;\r\n        })\r\n    }, [beatList, id, items, isPlaying, previousId, isFiltering]);\r\n\r\n    if (error) {\r\n        return <ErrorIndicator/>\r\n    }\r\n\r\n    if ((!audioInstance || isFiltering) && !isMain) {\r\n        return <Spinner/>\r\n    }\r\n\r\n    if (!isFiltering &&\r\n        beatList.length === 0 &&\r\n        !isLoading &&\r\n        !isMain &&\r\n        (filter.search !== '' ||\r\n            filter.bpm ||\r\n            filter.genres ||\r\n            filter.moods ||\r\n            filter.tags)\r\n    ) {\r\n        return <p className={`no-matches`}>Sorry, unfortunately we haven't found any beats matching your request...</p>\r\n    }\r\n\r\n    return (\r\n        <InfiniteScroll next={!isMain && beatList.length > 0 ? loadBeats : null} hasMore={hasMore} loader={null}\r\n                        dataLength={beatList.length}>\r\n            <div className={`tracks-table-main`} onScroll={e => console.log(e.target)}>\r\n                <Table structured unstackable>\r\n                    <Table.Header>\r\n                        <Table.Row className={`table-head`}>\r\n                            <Table.HeaderCell className={'tracks__gray-text '} width={6} textAlign=\"left\">\r\n                                <div className=\"track__td-img\"></div>\r\n                                TITLE\r\n                            </Table.HeaderCell>\r\n                            <Table.HeaderCell className={'tracks__gray-text'} width={1}>\r\n                                TIME\r\n                            </Table.HeaderCell>\r\n                            <Table.HeaderCell className={'tracks__gray-text'} width={1}>\r\n                                BPM\r\n                            </Table.HeaderCell>\r\n                            <Table.HeaderCell className={'tracks__gray-text tracks__scale'} width={1}>\r\n                                SCALE\r\n                            </Table.HeaderCell>\r\n                            <Table.HeaderCell className={'tracks__gray-text track__tags'} width={5}>\r\n                                TAGS\r\n                            </Table.HeaderCell>\r\n                            <Table.HeaderCell className={'tracks__gray-text'} width={1}>\r\n\r\n                            </Table.HeaderCell>\r\n                        </Table.Row>\r\n                    </Table.Header>\r\n\r\n                    <Table.Body className={`table-body-main`}>\r\n                        {isMain ? tracks.slice(0, 10) : tracks}\r\n                    </Table.Body>\r\n\r\n                </Table>\r\n                {isLoading && <Spinner/>}\r\n            </div>\r\n        </InfiniteScroll>\r\n    );\r\n};\r\n\r\nexport default React.memo(TracksTable);\r\n","import React, {useContext, useEffect, useRef, useState} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport {useSelector} from \"react-redux\";\r\n\r\nimport './audio-spectrum.scss';\r\nimport AudioInstanceContext from \"../audio-instance-context\";\r\nimport Spinner from \"../spinner\";\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    flexContainer: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'center',\r\n        paddingTop: '25%'\r\n    }\r\n}));\r\n\r\n\r\nconst AudioSpectrum2 = (props) => {\r\n\r\n    const {state, updateValue} = useContext(AudioInstanceContext);\r\n    const {isPlaying} = useSelector(state => state.audioReducer);\r\n    const amplitudeValues = useRef(null);\r\n    const classes = useStyles();\r\n    const [audioData, setAudioData] = useState(null);\r\n    const [animId, setAnimId] = useState(null);\r\n    const frequencyBandArray = useRef([...Array(25).keys()]).current;\r\n\r\n    const {audioInstance, source} = state;\r\n\r\n    useEffect(() => {\r\n        if (isPlaying && audioData) {\r\n            handleStartButtonClick();\r\n        }\r\n        else {\r\n            console.log('here');\r\n            cancelAnimationFrame(animId);\r\n        }\r\n\r\n        return () => {\r\n            cancelAnimationFrame(animId);\r\n        }\r\n    }, [isPlaying, audioData]);\r\n\r\n    useEffect(() => {\r\n        if (audioInstance) {\r\n            initializeAudioAnalyser();\r\n        }\r\n    }, [audioInstance]);\r\n\r\n    const initializeAudioAnalyser = async () => {\r\n        const audioContext = new AudioContext();\r\n        let newSource;\r\n        if (!source) {\r\n            newSource = audioContext.createBufferSource();\r\n            updateValue.setSource(newSource);\r\n        }\r\n        else {\r\n            newSource = source;\r\n        }\r\n\r\n        // let fileReader = new FileReader();\r\n        // let arrayBuffer;\r\n        //\r\n        // fileReader.onloadend = () => {\r\n        //     arrayBuffer = fileReader.result;\r\n        // }\r\n\r\n        const response = await axios.get(audioInstance.src, {\r\n            responseType: 'blob'\r\n        });\r\n        const arrayBuffer = await new Blob([response.data], {type: 'audio/mp3'}).arrayBuffer();\r\n\r\n        const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\r\n\r\n        // fileReader.readAsArrayBuffer(audioInstance.src);\r\n        console.log(audioBuffer);\r\n        newSource.buffer = audioBuffer;\r\n        const analyser = audioContext.createAnalyser();\r\n\r\n        analyser.fftSize = 1024;\r\n\r\n        newSource.connect(analyser);\r\n        analyser.connect(audioContext.destination);\r\n        setAudioData(analyser);\r\n    }\r\n    const getFrequencyData = (styleAdjuster) => {\r\n\r\n        const bufferLength = audioData.frequencyBinCount;\r\n        const amplitudeArray = new Uint8Array(bufferLength);\r\n        audioData.getByteFrequencyData(amplitudeArray);\r\n        styleAdjuster(amplitudeArray);\r\n\r\n    }\r\n\r\n    const adjustFreqBandStyle = (newAmplitudeData) => {\r\n        console.log(newAmplitudeData);\r\n        amplitudeValues.current = newAmplitudeData;\r\n        let domElements = frequencyBandArray.map((num) =>\r\n            document.getElementById(num));\r\n\r\n        for (let i = 0; i < frequencyBandArray.length; i++) {\r\n            let num = frequencyBandArray[i]\r\n            domElements[num].style.backgroundColor = `rgb(0, 255, ${amplitudeValues.current[num]})`\r\n            domElements[num].style.height = `${amplitudeValues.current[num]}px`\r\n        }\r\n    }\r\n\r\n    const runSpectrum = () => {\r\n        getFrequencyData(adjustFreqBandStyle)\r\n        requestAnimationFrame(runSpectrum)\r\n    }\r\n\r\n    const handleStartButtonClick = () => {\r\n        const animId = requestAnimationFrame(runSpectrum);\r\n        setAnimId(animId);\r\n    }\r\n\r\n\r\n\r\n    if (!state.audioInstance) {\r\n        return <Spinner/>\r\n    }\r\n\r\n    return (\r\n        <div className={`${classes.flexContainer} animat`}>\r\n            {frequencyBandArray.map((num) =>\r\n                <Paper\r\n                    className={'frequencyBands'}\r\n                    elevation={4}\r\n                    id={num}\r\n                    key={num}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default AudioSpectrum2;","import Filter from \"./filter\";\r\n\r\nexport default Filter;","import React, {useEffect, useMemo, useState} from 'react';\r\nimport {Dropdown} from 'semantic-ui-react';\r\nimport {Col, Row} from 'react-bootstrap';\r\nimport {faAngleDown, faAngleUp} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {filter, fetchInfo} from \"../../redux/actions/actions\";\r\n\r\nimport './filter.scss';\r\nimport BigSearch from \"../big-search/big-search\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Spinner from \"../spinner\";\r\nimport SpinnerAudio from \"../spinner-audio\";\r\n\r\nexport default function Filter() {\r\n    const [open, setOpen] = useState(null);\r\n    const dispatch = useDispatch();\r\n    const {info, isLoadingInfo} = useSelector(state => state.beatsReducer);\r\n\r\n    const [formState, setFormState] = useState({\r\n        bpm: null,\r\n        moods: null,\r\n        genres: null,\r\n        tags: null\r\n    });\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchInfo());\r\n    }, [])\r\n\r\n    const stateKeys = useMemo(() => ['bpm', 'moods', 'genres', 'tags'], []);\r\n\r\n    const [bpms, moods, genres, tags] = useMemo(() => {\r\n        return [\r\n            [{key: 'all1', text: 'All BPM'}, ...info.bpms.map(b => {\r\n                return {\r\n                    key: b,\r\n                    value: b,\r\n                    text: b\r\n                }\r\n            })],\r\n            [{key: 'all2', text: 'All moods'}, ...info.moods.map((b, index) =>  {\r\n                return {\r\n                    key: b + index,\r\n                    value: b,\r\n                    text: b\r\n                }\r\n            })],\r\n            [{key: 'all3', text: 'All genres'}, ...info.genres.map((b, index) => {\r\n                return {\r\n                    key: b + index,\r\n                    value: b,\r\n                    text: b\r\n                }\r\n            })],\r\n            [{key: 'all4', text: 'All tags'}, ...info.tags.map((b, index) => {\r\n                return {\r\n                    key: b + index,\r\n                    value: b,\r\n                    text: b\r\n                }\r\n            })]\r\n        ]\r\n    }, [info]);\r\n\r\n    const onChangeHandler = (e, data) => {\r\n        const newState = {\r\n            ...formState,\r\n            [stateKeys[data.tabIndex]]: data.value ? data.value : null\r\n        }\r\n        let isChanged = false;\r\n        for (let i = 0; i < stateKeys.length; i++) {\r\n            if (formState[stateKeys[i]] !== newState[stateKeys[i]]) {\r\n                isChanged = true;\r\n                break;\r\n            }\r\n        }\r\n        if (isChanged) {\r\n            setFormState(state => {\r\n                return newState;\r\n            });\r\n            dispatch(filter(newState, Math.floor(window.innerHeight / 65)));\r\n            // console.log(newState);\r\n        }\r\n    }\r\n\r\n    if (isLoadingInfo) {\r\n        return <SpinnerAudio/>;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <BigSearch/>\r\n            <div className={`filter`}>\r\n                <Row lg={12} md={12} sm={12} className={`filter-row`}>\r\n                    <Col xl={3} md={4} sm={4} className={`dropdown-col`}>\r\n                        <Dropdown\r\n                            tabIndex={0}\r\n                            onOpen={e => setOpen(1)}\r\n                            onClose={e => setOpen(null)}\r\n                            wrapSelection={true}\r\n                            icon={<FontAwesomeIcon className={`icon`} icon={open === 1 ? faAngleUp : faAngleDown}/>}\r\n                            className={`dropdown-itself`}\r\n                            placeholder='All BPM'\r\n                            fluid\r\n                            selection\r\n                            options={bpms}\r\n                            onChange={onChangeHandler}\r\n                        />\r\n                    </Col>\r\n                    <Col xl={3} md={4} sm={4} className={`dropdown-col`}>\r\n                        <Dropdown\r\n                            tabIndex={1}\r\n                            onOpen={e => setOpen(2)}\r\n                            onClose={e => setOpen(null)}\r\n                            icon={<FontAwesomeIcon className={`icon`} icon={open === 2 ? faAngleUp : faAngleDown}/>}\r\n                            className={`dropdown-itself`}\r\n                            placeholder='All moods'\r\n                            fluid\r\n                            selection\r\n                            options={moods}\r\n                            onChange={onChangeHandler}\r\n\r\n                        />\r\n                    </Col>\r\n                    <Col xl={3} md={4} sm={4} className={`dropdown-col`}>\r\n                        <Dropdown\r\n                            tabIndex={2}\r\n                            onOpen={e => setOpen(3)}\r\n                            onClose={e => setOpen(null)}\r\n                            icon={<FontAwesomeIcon className={`icon`} icon={open === 3 ? faAngleUp : faAngleDown}/>}\r\n                            className={`dropdown-itself`}\r\n                            placeholder='All genres'\r\n                            fluid\r\n                            selection\r\n                            options={genres}\r\n                            onChange={onChangeHandler}\r\n\r\n                        />\r\n                    </Col>\r\n                    <Col xl={3} md={12} sm={12} className={`dropdown-col`}>\r\n                        <Dropdown\r\n                            tabIndex={3}\r\n                            onOpen={e => setOpen(4)}\r\n                            onClose={e => setOpen(null)}\r\n                            icon={<FontAwesomeIcon className={`icon`} icon={open === 4 ? faAngleUp : faAngleDown}/>}\r\n                            className={`dropdown-itself`}\r\n                            placeholder='All tags'\r\n                            fluid\r\n                            selection\r\n                            options={tags}\r\n                            onChange={onChangeHandler}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n\r\n\r\n            </div>\r\n        </>\r\n\r\n    );\r\n}","import React from 'react';\r\nimport TracksTable from \"../../components/tracks-table/tracks-table\";\r\nimport Footer from \"../../components/footer\";\r\nimport AudioSpectrum2 from \"../../components/audio-spectrum\";\r\nimport Filter from \"../../components/filter\";\r\nimport {useParams} from \"react-router\";\r\nimport CurrentTrack from \"../../components/current-track\";\r\n\r\nconst BeatsPage = () => {\r\n    return (\r\n        <>\r\n            <Filter/>\r\n            <TracksTable isMain={false}/>\r\n        </>\r\n        // <AudioSpectrumContainer/>\r\n\r\n    );\r\n};\r\n\r\nexport default BeatsPage;","import BeatsPage from \"./beats-page\";\r\n\r\nexport default BeatsPage;"],"sourceRoot":""}