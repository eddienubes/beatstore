{"version":3,"sources":["redux/actions/actions.js","redux/actions/index.js","redux/reducers/user-reducer.js","components/error-indicator/error.png","hooks/auth-hook.js","components/error-boundary/index.js","components/error-boundary/error-boundary.jsx","components/header/index.js","components/header/header.jsx","components/music-player/music-player.jsx","components/music-player/index.js","components/blurred-spinner/index.js","components/blurred-spinner/blurred-spinner.jsx","containers/routing-container/routing-container.jsx","redux/reducers/beats-reducer.js","constants/other-constants.js","redux/reducers/licenses-reducer.js","redux/reducers/index.js","redux/store.js","App.jsx","index.jsx","constants/redux-action-names.js","components/spinner/spinner.jsx","components/spinner/index.js","components/audio-instance-context/audio-instance-context.js","components/audio-instance-context/index.js","components/error-indicator/error-indicator.jsx","components/error-indicator/index.js","services/index.js","services/beatstore-service.js","components/spinner-audio/spinner-audio.jsx","components/spinner-audio/index.js","components/footer/footer.jsx","components/footer/index.js","services/auth-service.js","services/licenses-service.js","redux/reducers/audio-reducer.js"],"names":["beatstoreService","BeatstoreService","authService","AuthService","licensesService","LicensesService","beatsDropped","type","actions","filterSearchSet","search","payload","filterDropped","audioPlayed","audioLoaded","id","audioStopped","signupFailure","logInSuccess","logInFailure","googleContinueFailed","err","userUpdateSuccess","userData","notificationClosed","appendToCartSuccess","product","removeFromCartSuccess","cart","userErrorCleared","userDataFetchSuccessful","data","confirmationErrorRemoved","paymentAcceptanceDrop","paymentDeclineDrop","paymentRequested","paymentCanceled","paymentDeclinedAndRedirected","history","dispatch","getState","paymentDeclined","JSON","stringify","response","statusText","message","replace","paymentAcceptedAndRedirected","a","userReducer","loggedIn","token","getUserPurchasesById","purchases","console","log","signup","formState","inputs","email","username","password","value","clientIP","process","signupSuccess","login","userDataLocalStorage","tokenExpirationDate","Date","expiration","getTime","getUserDataById","user","purchased","localStorage","setItem","toISOString","removeItem","fetchBeats","limit","skip","beatsReducer","filter","getBeats","beats","error","fetchInfo","getInfo","info","currentFilterSearch","currentFormState","logOut","logout","updateUser","fetchLicenses","getAllLicenses","licenses","appendToCart","appendToCartOffline","removeFromCart","productId","removeFromCartOffline","googleContinue","tokenId","refreshToken","userState","accessToken","confirmUser","confirmationCode","verify","initialState","items","total","processing","refreshTokenExpiration","isLoadingAppendToCart","isLoadingRemoveFromCart","isLoggingOut","showNotification","isProcessingPayment","payed","paymentError","isConfirming","confirmationError","purchasesUpdateError","isSigningUp","state","action","module","exports","refreshTokenTimer","logoutTimer","ErrorBoundary","props","hasError","errorInfo","this","setState","children","Component","Header","useState","isOpenedBurger","setOpenBurger","useHistory","useDispatch","useSelector","React","openLogDropdown","setOpenLogDropdown","anchorRef","useRef","cartRef","handleCloseDropdown","path","event","current","contains","target","prevOpen","useEffect","focus","handleListKeyDown","key","preventDefault","navbarStyles","logDependentItem","Button","className","ref","aria-controls","undefined","aria-haspopup","onClick","icon","faUserCircle","faAngleDown","faAngleRight","Popper","open","anchorEl","role","transition","disablePortal","TransitionProps","placement","Grow","style","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","onKeyDown","MenuItem","faFileInvoice","faStore","faSignOutAlt","Link","to","as","faUser","popover","Popover","e","Title","length","Content","toFixed","Overlay","show","rootClose","onHide","rootCloseEvent","onEnter","setTimeout","variant","expand","Brand","Toggle","area","faTimes","faBars","Collapse","faShoppingCart","PrettoSlider","withStyles","root","color","height","thumb","width","backgroundColor","border","marginTop","marginLeft","boxShadow","active","valueLabel","left","background","fontWeight","borderRadius","track","rail","Slider","VolumeSlider","MusicPlayer","audioReducer","isPlaying","previousId","beatList","latestBeats","audio","useContext","AudioInstanceContext","duration","loop","seeking","volume","url","imgUrl","title","index","audioList","loading","played","loaded","playerState","setPlayerState","playerInstanceRef","handleVolumeChange","parseFloat","handleStepForward","newIndex","findIndex","getBeatById","then","itsUrl","beat","previewAudioUrl","replaceAll","imageUrl","catch","player","min","max","defaultValue","valueLabelDisplay","aria-label","valueLabelFormat","minutesInt","Math","floor","secondsInt","formattedMinutes","String","formattedSeconds","onChange","onChangeCommitted","seekTo","src","alt","RepeatOne","Repeat","faStepBackward","faPause","faPlay","faStepForward","visibility","VolumeDown","step","VolumeUp","updateValue","setAudioInstance","playing","onReady","onStart","onBuffer","onSeek","onEnded","onError","onProgress","playedSeconds","loadedSeconds","onDuration","useAuth","checking","setChecking","currentRToken","refreshTokenExpirationDate","parse","getItem","cartData","remainingTimeAccessToken","clearTimeout","remainingTimeRefreshToken","BlurredSpinner","ContactPage","lazy","CheckoutPage","BeatsPage","AuthContainer","AccountPage","ConfirmationPage","PurchaseSuccessful","PurchaseFailed","MainPage","PageNotFound","RoutingContainer","fallback","exact","component","isLoading","isLoadingInfo","hasMore","bpm","moods","genres","tags","bpms","isFiltering","licensesReducer","combineReducers","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","App","audioInstance","source","setSource","Provider","ReactDOM","render","document","getElementById","BEATS_REQUESTED","BEATS_LOADED","BEATS_FAILURE","BEATS_FILTER_SET","BEATS_INFO_REQUESTED","BEATS_INFO_SUCCESS","BEATS_INFO_FAILURE","BEATS_DROPPED","FILTER_REQUESTED","FILTER_SUCCESS","FILTER_FAILURE","FILTER_SEARCH_SET","FILTER_DROPPED","AUDIO_PLAYED","AUDIO_STOPPED","AUDIO_LOADED","AUDIO_TOGGLE","SIGN_UP_REQUESTED","SIGN_UP_SUCCESS","SIGN_UP_FAILURE","LOGGED_OUT_REQUESTED","LOGGED_OUT_SUCCESS","LOGGED_OUT_FAILED","LOG_IN_REQUESTED","LOG_IN_SUCCESS","LOG_IN_FAILURE","USER_UPDATE_REQUESTED","USER_UPDATED_SUCCESS","USER_UPDATE_FAILURE","REFRESH_TOKEN_REQUESTED","REFRESH_TOKEN_SUCCESS","REFRESH_TOKEN_FAILED","USER_ERROR_CLEARED","USER_DATA_FETCH_SUCCESSFUL","USER_DATA_FETCH_FAILED","PAYMENT_REQUESTED","CONFIRMATION_REQUESTED","CONFIRMATION_SUCCESS","CONFIRMATION_FAILED","CONFIRMATION_ERROR_REMOVED","CART_CLEARED","PAYMENT_ACCEPTED","PAYMENT_ACCEPTANCE_DROP","PAYMENT_DECLINED","PAYMENT_DECLINE_DROP","PAYMENT_CANCELED","USER_PURCHASES_UPDATE_SUCCESSFUL","USER_PURCHASES_UPDATE_FAILED","GOOGLE_CONTINUE_REQUESTED","GOOGLE_CONTINUE_SUCCESS","GOOGLE_CONTINUE_FAILED","LICENSES_REQUESTED","LICENSES_SUCCESS","LICENSES_FAILURE","APPEND_TO_CART_REQUESTED","APPEND_TO_CART_SUCCESS","APPEND_TO_CART_FAILURE","NOTIFICATION_CLOSED","REMOVE_FROM_CART_REQUESTED","REMOVE_FROM_CART_SUCCESS","REMOVE_FROM_CART_FAILURE","Spinner","createContext","ErrorIndicator","baseUrl","axios","get","params","getRandomBeat","SpinnerAudio","Footer","faCircle","href","post","headers","newUserData","patch","userId","Authorization","delete","subject","name"],"mappings":"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","file":"static/js/main.0e4967eb.chunk.js","sourcesContent":["import * as actions from '../../constants/redux-action-names';\r\nimport AuthService from \"../../services/auth-service\";\r\nimport BeatstoreService from \"../../services\";\r\nimport LicensesService from \"../../services/licenses-service\";\r\n\r\nconst beatstoreService = new BeatstoreService();\r\nconst authService = new AuthService();\r\nconst licensesService = new LicensesService();\r\n\r\nconst beatsRequested = () => {\r\n    return {\r\n        type: actions.BEATS_REQUESTED,\r\n    };\r\n};\r\n\r\nconst beatsLoaded = (payload) => {\r\n    return {\r\n        type: actions.BEATS_LOADED,\r\n        payload: payload\r\n    };\r\n};\r\n\r\n\r\nconst beatsFailure = (error) => {\r\n    return {\r\n        type: actions.BEATS_FAILURE,\r\n        payload: error\r\n    };\r\n};\r\n\r\nconst beatsFilterSet = (payload) => {\r\n    return {\r\n        type: actions.BEATS_FILTER_SET,\r\n        payload: payload\r\n    }\r\n}\r\n\r\nconst beatsInfoRequested = () => {\r\n    return {\r\n        type: actions.BEATS_INFO_REQUESTED,\r\n    }\r\n}\r\n\r\nconst beatsInfoSuccess = (payload) => {\r\n    return {\r\n        type: actions.BEATS_INFO_SUCCESS,\r\n        payload: payload\r\n    }\r\n}\r\n\r\nconst beatsInfoFailure = (error) => {\r\n    return {\r\n        type: actions.BEATS_INFO_FAILURE,\r\n        payload: error\r\n    }\r\n}\r\n\r\nconst beatsDropped = () => {\r\n    return {\r\n        type: actions.BEATS_DROPPED\r\n    }\r\n}\r\n\r\nconst filterRequest = () => {\r\n    return {\r\n        type: actions.FILTER_REQUESTED,\r\n    }\r\n}\r\n\r\nconst filterSuccess = (payload) => {\r\n    return {\r\n        type: actions.FILTER_SUCCESS,\r\n        payload: payload\r\n    }\r\n}\r\n\r\nconst filterSearchSet = (search) => {\r\n    return {\r\n        type: actions.FILTER_SEARCH_SET,\r\n        payload: search\r\n    }\r\n}\r\n\r\nconst filterDropped = () => {\r\n    return {\r\n        type: actions.FILTER_DROPPED,\r\n    }\r\n}\r\n\r\nconst filterFailure = (error) => {\r\n    return {\r\n        type: actions.FILTER_FAILURE,\r\n        payload: error\r\n    }\r\n}\r\n\r\nconst audioToggle = (id) => {\r\n    return {\r\n        type: actions.AUDIO_TOGGLE,\r\n        payload: id\r\n    }\r\n}\r\n\r\nconst audioPlayed = () => {\r\n    return {\r\n        type: actions.AUDIO_PLAYED,\r\n    };\r\n};\r\n\r\nconst audioLoaded = (id) => {\r\n    return {\r\n        type: actions.AUDIO_LOADED,\r\n        payload: id\r\n    };\r\n}\r\n\r\nconst audioStopped = () => {\r\n    return {\r\n        type: actions.AUDIO_STOPPED,\r\n    };\r\n};\r\n\r\nconst signupRequested = () => {\r\n    return {\r\n        type: actions.SIGN_UP_REQUESTED\r\n    };\r\n};\r\n\r\nconst signupSuccess = (payload) => {\r\n    return {\r\n        type: actions.SIGN_UP_SUCCESS,\r\n        payload: payload\r\n    };\r\n};\r\n\r\nconst signupFailure = (payload) => {\r\n    return {\r\n        type: actions.SIGN_UP_FAILURE,\r\n        payload: payload\r\n    };\r\n};\r\n\r\nconst logInRequested = () => {\r\n    return {\r\n        type: actions.LOG_IN_REQUESTED\r\n    }\r\n}\r\n\r\nconst logInSuccess = (payload) => {\r\n    return {\r\n        type: actions.LOG_IN_SUCCESS,\r\n        payload: payload\r\n    }\r\n}\r\n\r\nconst logInFailure = (payload) => {\r\n    return {\r\n        type: actions.LOG_IN_FAILURE,\r\n        payload: payload\r\n    }\r\n}\r\n\r\nconst googleContinueRequested = () => {\r\n    return {type: actions.GOOGLE_CONTINUE_REQUESTED}\r\n};\r\n\r\nconst googleContinueSuccess = (user) => {\r\n    return {type: actions.GOOGLE_CONTINUE_SUCCESS, payload: user}\r\n};\r\n\r\nconst googleContinueFailed = (err) => {\r\n    return {type: actions.GOOGLE_CONTINUE_FAILED, payload: err}\r\n};\r\n\r\nconst userUpdateRequested = () => {\r\n    return {\r\n        type: actions.USER_UPDATE_REQUESTED\r\n    }\r\n}\r\n\r\nconst userUpdateSuccess = (userData) => {\r\n    return {\r\n        type: actions.USER_UPDATED_SUCCESS,\r\n        payload: userData\r\n    }\r\n}\r\n\r\nconst userUpdateFailure = (error) => {\r\n    return {\r\n        type: actions.USER_UPDATE_FAILURE,\r\n        payload: error\r\n    }\r\n}\r\n\r\nconst notificationClosed = () => {\r\n    return {\r\n        type: actions.NOTIFICATION_CLOSED\r\n    }\r\n}\r\n\r\nconst appendToCartRequested = () => {\r\n    return {\r\n        type: actions.APPEND_TO_CART_REQUESTED\r\n    }\r\n}\r\n\r\nconst appendToCartSuccess = (product) => {\r\n    return {\r\n        type: actions.APPEND_TO_CART_SUCCESS,\r\n        payload: product\r\n    }\r\n}\r\n\r\nconst appendToCartFailure = (error) => {\r\n    return {\r\n        type: actions.APPEND_TO_CART_FAILURE,\r\n        payload: error\r\n    }\r\n}\r\nconst removeFromCartRequested = () => {\r\n    return {\r\n        type: actions.REMOVE_FROM_CART_REQUESTED\r\n    }\r\n}\r\n\r\nconst removeFromCartSuccess = (cart) => {\r\n    return {\r\n        type: actions.REMOVE_FROM_CART_SUCCESS,\r\n        payload: cart\r\n    }\r\n}\r\n\r\nconst removeFromCartFailure = (error) => {\r\n    return {\r\n        type: actions.REMOVE_FROM_CART_FAILURE,\r\n        payload: error\r\n    }\r\n}\r\n\r\nconst licensesRequested = () => {\r\n    return {\r\n        type: actions.LICENSES_REQUESTED\r\n    }\r\n}\r\n\r\nconst licensesSuccess = (payload) => {\r\n    return {\r\n        type: actions.LICENSES_SUCCESS,\r\n        payload\r\n    }\r\n}\r\n\r\nconst licensesFailure = (error) => {\r\n    return {\r\n        type: actions.LICENSES_FAILURE,\r\n        payload: error\r\n    }\r\n}\r\n\r\nconst logoutRequested = () => {\r\n    return {\r\n        type: actions.LOGGED_OUT_REQUESTED\r\n    }\r\n}\r\n\r\nconst logoutSuccess = () => {\r\n    return {\r\n        type: actions.LOGGED_OUT_SUCCESS\r\n    }\r\n}\r\n\r\nconst logoutFailed = (error) => {\r\n    return {\r\n        type: actions.LOGGED_OUT_FAILED,\r\n        payload: error\r\n    }\r\n}\r\n\r\nconst refreshTokenRequested = () => {\r\n    return {\r\n        type: actions.REFRESH_TOKEN_REQUESTED\r\n    }\r\n}\r\n\r\nconst refreshTokenSuccess = (accessToken) => {\r\n    return {\r\n        type: actions.REFRESH_TOKEN_SUCCESS,\r\n        payload: accessToken\r\n    }\r\n}\r\n\r\nconst refreshTokenFailed = (err) => {\r\n    return {\r\n        type: actions.REFRESH_TOKEN_FAILED,\r\n        payload: err\r\n    }\r\n}\r\n\r\nconst userErrorCleared = () => {\r\n    return {\r\n        type: actions.USER_ERROR_CLEARED\r\n    }\r\n}\r\n\r\nconst userDataFetchSuccessful = (data) => {\r\n    return {\r\n        type: actions.USER_DATA_FETCH_SUCCESSFUL,\r\n        payload: data\r\n    }\r\n}\r\n\r\nconst userDataFetchFailed = (err) => {\r\n    return {\r\n        type: actions.USER_DATA_FETCH_FAILED,\r\n        payload: err\r\n    }\r\n}\r\n\r\nconst confirmationRequested = () => {\r\n    return {type: actions.CONFIRMATION_REQUESTED}\r\n}\r\n\r\nconst confirmationSuccess = (userData) => {\r\n    return {\r\n        type: actions.CONFIRMATION_SUCCESS,\r\n        payload: userData\r\n    }\r\n}\r\n\r\nconst confirmationFailed = (err) => {\r\n    return {\r\n        type: actions.CONFIRMATION_FAILED,\r\n        payload: err\r\n    }\r\n}\r\n\r\nconst confirmationErrorRemoved = () => {\r\n    return {type: actions.CONFIRMATION_ERROR_REMOVED}\r\n};\r\n\r\nconst cartCleared = () => {\r\n    return {type: actions.CART_CLEARED}\r\n};\r\n\r\n\r\nconst paymentAccepted = () => {\r\n    return {type: actions.PAYMENT_ACCEPTED}\r\n};\r\n\r\nconst paymentAcceptanceDrop = () => {\r\n    return {type: actions.PAYMENT_ACCEPTANCE_DROP}\r\n};\r\n\r\nconst paymentDeclined = (err) => {\r\n    return {type: actions.PAYMENT_DECLINED, payload: err}\r\n};\r\n\r\nconst paymentDeclineDrop = () => {\r\n    return {type: actions.PAYMENT_DECLINE_DROP}\r\n}\r\n\r\nconst paymentRequested = () => {\r\n    return {type: actions.PAYMENT_REQUESTED}\r\n};\r\n\r\nconst paymentCanceled = () => {\r\n    return {type: actions.PAYMENT_CANCELED}\r\n};\r\n\r\nconst userPurchasesUpdateSuccessful = (purchases) => {\r\n    return {type: actions.USER_PURCHASES_UPDATE_SUCCESSFUL, payload: purchases}\r\n};\r\n\r\nconst userPurchasesUpdateFailed = (err) => {\r\n    return {type: actions.USER_PURCHASES_UPDATE_FAILED, payload: err}\r\n};\r\n\r\nconst paymentDeclinedAndRedirected = (err, history) => (dispatch, getState) => {\r\n    dispatch(paymentDeclined(JSON.stringify({...err?.response?.data, statusText: err.message})));\r\n    history.replace('checkout/failed');\r\n}\r\nconst paymentAcceptedAndRedirected = (history) => async (dispatch, getState) => {\r\n    const {loggedIn, id, token} = getState().userReducer;\r\n\r\n    if (loggedIn) {\r\n        try {\r\n            const response = await authService.getUserPurchasesById(id, token);\r\n            dispatch(userPurchasesUpdateSuccessful(response.data.purchases))\r\n        }\r\n        catch (e) {\r\n            console.log(e);\r\n            console.log(e.response?.data);\r\n            dispatch(userPurchasesUpdateFailed(e));\r\n        }\r\n    }\r\n\r\n    dispatch(paymentAccepted());\r\n    dispatch(cartCleared());\r\n    history.replace('checkout/success');\r\n}\r\n\r\n\r\n\r\nconst signup = (formState) => async (dispatch, getState) => {\r\n    dispatch(signupRequested());\r\n    const {email, username, password} = formState.inputs;\r\n\r\n    try {\r\n        const response = await authService.signup({\r\n            email: email.value,\r\n            username: username.value,\r\n            password: password.value,\r\n            clientIP: `${process.env.REACT_APP_BACKEND_BASE_URL}confirmation`\r\n        });\r\n\r\n        // const tokenExpirationDate = new Date(new Date().getTime() + 1000 * 60 * 60);\r\n\r\n        dispatch(signupSuccess());\r\n\r\n        // localStorage.setItem('userData', JSON.stringify({\r\n        //     ...response.data.user,\r\n        //     expiration: tokenExpirationDate.toISOString()\r\n        // }));\r\n        // localStorage.removeItem('cartData');\r\n\r\n        console.log(response.data);\r\n    } catch (e) {\r\n        console.log(e.response.data);\r\n        dispatch(signupFailure(e.response.data));\r\n    }\r\n}\r\n\r\nconst login = (formState, userDataLocalStorage) => async (dispatch, getState) => {\r\n    dispatch(logInRequested());\r\n\r\n    if (!formState) {\r\n        const tokenExpirationDate = new Date(userDataLocalStorage.expiration) || new Date(new Date().getTime() + 1000 * 60 * 60);\r\n\r\n\r\n        let user;\r\n        try {\r\n            const response = await authService.getUserDataById(userDataLocalStorage.id, userDataLocalStorage.token);\r\n            user = response.data.user;\r\n        }\r\n        catch (e) {\r\n            dispatch(logInFailure(e.response.data));\r\n        }\r\n\r\n        dispatch(logInSuccess({\r\n            ...userDataLocalStorage,\r\n            cart: user.cart,\r\n            purchased: user.purchased,\r\n            expiration: tokenExpirationDate\r\n        }));\r\n\r\n        localStorage.setItem('userData', JSON.stringify({\r\n            ...userDataLocalStorage,\r\n            cart: user.cart,\r\n            expiration: tokenExpirationDate.toISOString()\r\n        }));\r\n        localStorage.removeItem('cartData');\r\n\r\n        return;\r\n    }\r\n\r\n    const {email, password} = formState;\r\n\r\n    try {\r\n        const response = await authService.login({\r\n            email: email.value,\r\n            password: password.value\r\n        });\r\n\r\n        const tokenExpirationDate = new Date(new Date().getTime() + 1000 * 60 * 60);\r\n\r\n        dispatch(logInSuccess({\r\n            ...response.data.user,\r\n            expiration: tokenExpirationDate.toISOString()\r\n        }));\r\n\r\n        localStorage.setItem('userData', JSON.stringify({\r\n            ...response.data.user,\r\n            expiration: tokenExpirationDate.toISOString()\r\n        }));\r\n        localStorage.removeItem('cartData');\r\n    } catch (e) {\r\n        console.log(e.response)\r\n        dispatch(logInFailure(e.response.data))\r\n    }\r\n}\r\n\r\nconst fetchBeats = (limit) => async (dispatch, getState) => {\r\n    dispatch(beatsRequested());\r\n\r\n    const skip = getState().beatsReducer.skip;\r\n    const filter = getState().beatsReducer.filter;\r\n\r\n    // console.log(filter);\r\n    try {\r\n        const response = await beatstoreService.getBeats(skip, limit, filter);\r\n        dispatch(beatsLoaded({beats: response.data.beats, limit}));\r\n    } catch (e) {\r\n        console.log(e.response);\r\n        dispatch(beatsFailure(e.response.data))\r\n    }\r\n}\r\n\r\nconst fetchInfo = () => async (dispatch, getState) => {\r\n    dispatch(beatsInfoRequested());\r\n\r\n    try {\r\n        const response = await beatstoreService.getInfo();\r\n        dispatch(beatsInfoSuccess(response.data.info));\r\n    } catch (e) {\r\n        console.log(e.response);\r\n        dispatch(beatsInfoFailure(e.response.data))\r\n    }\r\n}\r\n\r\nconst filter = (formState, limit) => async (dispatch, getState) => {\r\n    dispatch(filterRequest());\r\n\r\n    const currentFilterSearch = getState().beatsReducer.filter.search;\r\n\r\n    let currentFormState;\r\n    if (!formState) {\r\n        currentFormState = getState().beatsReducer.filter;\r\n        // console.log(currentFormState)\r\n    } else {\r\n        currentFormState = formState;\r\n    }\r\n\r\n    const filter = {\r\n        ...currentFormState,\r\n        search: currentFilterSearch\r\n    }\r\n\r\n    try {\r\n        const response = await beatstoreService.getBeats(0, limit, filter);\r\n        dispatch(filterSuccess({\r\n            beats: response.data.beats,\r\n            limit,\r\n            filter\r\n        }));\r\n    } catch (e) {\r\n        console.log(e.response);\r\n        dispatch(filterFailure(e.response.data))\r\n    }\r\n}\r\n\r\nconst logOut = () => async (dispatch, getState) => {\r\n    dispatch(logoutRequested());\r\n    const {token} = getState().userReducer;\r\n\r\n    try {\r\n        const response = await authService.logout(token);\r\n        dispatch(logoutSuccess());\r\n    } catch (e) {\r\n        console.log(e.response.data);\r\n        dispatch(logoutFailed(e.response.data));\r\n    } finally {\r\n        localStorage.removeItem('userData');\r\n        localStorage.removeItem('cartData');\r\n    }\r\n}\r\n\r\nconst updateUser = (id, userData) => async (dispatch, getState) => {\r\n    dispatch(userUpdateRequested());\r\n\r\n\r\n    const {expiration, token} = getState().userReducer;\r\n\r\n    try {\r\n        const response = await authService.updateUser(id, userData, token);\r\n        localStorage.setItem('userData', JSON.stringify({\r\n            ...response.data.user,\r\n            expiration\r\n        }));\r\n        dispatch(userUpdateSuccess(response.data.user));\r\n    } catch (e) {\r\n        console.log(e.response);\r\n        dispatch(userUpdateFailure(e.response.data));\r\n    }\r\n\r\n}\r\n\r\nconst fetchLicenses = () => async (dispatch, getState) => {\r\n    dispatch(licensesRequested());\r\n\r\n\r\n    try {\r\n        const response = await licensesService.getAllLicenses();\r\n        dispatch(licensesSuccess(response.data.licenses));\r\n    } catch (e) {\r\n        console.log(e.response);\r\n        dispatch(licensesFailure(e.response.data));\r\n    }\r\n}\r\n\r\nconst appendToCart = (product) => async (dispatch, getState) => {\r\n    dispatch(appendToCartRequested());\r\n\r\n    const {id, token, loggedIn, cart} = getState().userReducer;\r\n\r\n    try {\r\n        let response\r\n        if (loggedIn) {\r\n            response = await authService.appendToCart(id, product, token);\r\n            localStorage.setItem('userData', JSON.stringify({\r\n                ...getState().userReducer,\r\n                cart: response.data.cart,\r\n            }));\r\n        }\r\n        else {\r\n            response = await authService.appendToCartOffline(product, cart);\r\n            localStorage.setItem('cartData', JSON.stringify(response.data.cart));\r\n        }\r\n        dispatch(appendToCartSuccess(response.data.cart));\r\n    } catch (e) {\r\n        dispatch(appendToCartFailure(e.response.data));\r\n    }\r\n}\r\n\r\nconst removeFromCart = (productId) => async (dispatch, getState) => {\r\n    dispatch(removeFromCartRequested());\r\n\r\n    const {id, token, expiration, loggedIn, cart} = getState().userReducer;\r\n\r\n    try {\r\n        let response;\r\n        if (loggedIn) {\r\n            response = await authService.removeFromCart(id, productId, token);\r\n            localStorage.setItem('userData', JSON.stringify({\r\n                ...getState().userReducer,\r\n                cart: response.data.cart,\r\n            }));\r\n        }\r\n        else {\r\n            response = await authService.removeFromCartOffline(productId, cart);\r\n            localStorage.setItem('cartData', JSON.stringify(response.data.cart));\r\n        }\r\n        dispatch(removeFromCartSuccess(response.data.cart));\r\n    } catch (e) {\r\n        dispatch(removeFromCartFailure(e.response.data));\r\n    }\r\n\r\n}\r\n\r\nconst googleContinue = (tokenId) => async (dispatch, getState) => {\r\n\r\n    dispatch(googleContinueRequested());\r\n    try {\r\n        const response = await authService.googleContinue(tokenId);\r\n\r\n        const tokenExpirationDate = new Date(new Date().getTime() + 1000 * 60 * 60);\r\n\r\n        dispatch(googleContinueSuccess({\r\n            ...response.data.user,\r\n            expiration: tokenExpirationDate.toISOString()\r\n        }));\r\n\r\n        localStorage.setItem('userData', JSON.stringify({\r\n            ...response.data.user,\r\n            expiration: tokenExpirationDate.toISOString()\r\n        }));\r\n        localStorage.removeItem('cartData');\r\n\r\n    } catch (e) {\r\n        console.log(e.message);\r\n        dispatch(googleContinueFailed(e.response.data));\r\n    }\r\n}\r\n\r\nconst refreshToken = (refreshToken) => async (dispatch, getState) => {\r\n    dispatch(refreshTokenRequested());\r\n    const userState = getState().userReducer;\r\n    try {\r\n        const response = await authService.refreshToken(refreshToken);\r\n        const tokenExpirationDate = new Date(new Date().getTime() + 1000 * 60 * 60);\r\n        dispatch(refreshTokenSuccess({\r\n            accessToken: response.data.accessToken,\r\n            expiration: tokenExpirationDate\r\n        }));\r\n\r\n        localStorage.setItem('userData', JSON.stringify({\r\n            ...userState,\r\n            token: response.data.accessToken,\r\n            expiration: tokenExpirationDate\r\n        }));\r\n    } catch (e) {\r\n        console.log(e.response.data);\r\n        dispatch(refreshTokenFailed(e.response.data));\r\n    }\r\n}\r\n\r\nconst confirmUser = (confirmationCode) => async (dispatch, getState) => {\r\n    dispatch(confirmationRequested());\r\n\r\n    try {\r\n        const response = await authService.verify(confirmationCode);\r\n\r\n        const tokenExpirationDate = new Date(new Date().getTime() + 1000 * 60 * 60);\r\n\r\n        dispatch(confirmationSuccess({\r\n            ...response.data.user,\r\n            expiration: tokenExpirationDate\r\n        }));\r\n\r\n        localStorage.setItem('userData', JSON.stringify({\r\n            ...response.data.user,\r\n            expiration: tokenExpirationDate.toISOString()\r\n        }));\r\n\r\n        localStorage.removeItem('cartData');\r\n\r\n        console.log(response.data);\r\n    }\r\n    catch (e) {\r\n        console.log(e);\r\n        dispatch(confirmationFailed(e.response.data));\r\n    }\r\n\r\n}\r\n\r\nexport {\r\n    fetchBeats,\r\n    fetchInfo,\r\n    filter,\r\n    filterSearchSet,\r\n    filterDropped,\r\n    beatsDropped,\r\n\r\n    audioPlayed,\r\n    audioStopped,\r\n    audioLoaded,\r\n    audioToggle,\r\n\r\n    login,\r\n    signup,\r\n    logInSuccess,\r\n    updateUser,\r\n    appendToCart,\r\n    removeFromCart,\r\n    notificationClosed,\r\n    googleContinue,\r\n    googleContinueFailed,\r\n    refreshToken,\r\n    logOut,\r\n    userErrorCleared,\r\n    userDataFetchFailed,\r\n    userDataFetchSuccessful,\r\n    confirmUser,\r\n    confirmationErrorRemoved,\r\n\r\n    fetchLicenses,\r\n    cartCleared,\r\n    paymentAcceptedAndRedirected,\r\n    paymentAcceptanceDrop,\r\n    paymentDeclinedAndRedirected,\r\n    paymentDeclineDrop,\r\n    paymentRequested,\r\n    paymentCanceled\r\n};","import {\r\n    audioPlayed,\r\n    audioStopped,\r\n    fetchBeats,\r\n    login,\r\n    signup,\r\n    logOut,\r\n    audioLoaded,\r\n    filterDropped,\r\n    filterSearchSet,\r\n    audioToggle,\r\n    logInSuccess,\r\n    updateUser,\r\n    appendToCart,\r\n    removeFromCart,\r\n    fetchLicenses,\r\n    notificationClosed,\r\n    googleContinueFailed,\r\n    googleContinue,\r\n    refreshToken,\r\n    userErrorCleared,\r\n    userDataFetchFailed,\r\n    userDataFetchSuccessful,\r\n    confirmationErrorRemoved,\r\n    cartCleared,\r\n    paymentDeclineDrop,\r\n    paymentAcceptedAndRedirected,\r\n    paymentAcceptanceDrop,\r\n    paymentDeclinedAndRedirected,\r\n    paymentRequested,\r\n    paymentCanceled\r\n} from './actions';\r\n\r\nexport {\r\n    audioPlayed,\r\n    audioStopped,\r\n    audioLoaded,\r\n    audioToggle,\r\n\r\n    filterDropped,\r\n    filterSearchSet,\r\n\r\n    fetchBeats,\r\n\r\n    logOut,\r\n    login,\r\n    signup,\r\n    logInSuccess,\r\n    updateUser,\r\n    appendToCart,\r\n    removeFromCart,\r\n    fetchLicenses,\r\n    notificationClosed,\r\n    googleContinueFailed,\r\n    googleContinue,\r\n    refreshToken,\r\n    userErrorCleared,\r\n    userDataFetchFailed,\r\n    userDataFetchSuccessful,\r\n    confirmationErrorRemoved,\r\n    cartCleared,\r\n    paymentDeclineDrop,\r\n    paymentAcceptedAndRedirected,\r\n    paymentAcceptanceDrop,\r\n    paymentDeclinedAndRedirected,\r\n    paymentRequested,\r\n    paymentCanceled\r\n};","import * as actions from '../../constants/redux-action-names';\r\n\r\nconst initialState = {\r\n    loggedIn: false,\r\n    cart: {\r\n        items: [],\r\n        total: 0\r\n    },\r\n    purchased: [],\r\n    processing: false,\r\n    email: null,\r\n    username: null,\r\n    error: null,\r\n    token: null,\r\n    refreshToken: null,\r\n    refreshTokenExpiration: null,\r\n    expiration: null,\r\n    id: null,\r\n    isLoadingAppendToCart: false,\r\n    isLoadingRemoveFromCart: false,\r\n    isLoggingOut: false,\r\n    showNotification: false,\r\n    isProcessingPayment: false,\r\n    payed: true,\r\n    paymentError: {message: 'hello'},\r\n    isConfirming: false,\r\n    confirmationError: null,\r\n    purchasesUpdateError: null,\r\n    isSigningUp: false\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actions.SIGN_UP_REQUESTED:\r\n            return {\r\n                ...state,\r\n                isSigningUp: true\r\n            }\r\n        case actions.SIGN_UP_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isSigningUp: false\r\n            }\r\n        case actions.SIGN_UP_FAILURE:\r\n            return {\r\n                ...state,\r\n                isSigningUp: false,\r\n                error: action.payload,\r\n            }\r\n        case actions.LOGGED_OUT_REQUESTED:\r\n            return {\r\n                ...state,\r\n                isLoggingOut: true,\r\n            };\r\n        case actions.LOGGED_OUT_SUCCESS:\r\n            return {\r\n                ...initialState,\r\n                loggedIn: false,\r\n                isLoggingOut: false,\r\n                error: null\r\n            }\r\n        case actions.LOGGED_OUT_FAILED:\r\n            return {\r\n                ...state,\r\n                loggedIn: false,\r\n                isLoggingOut: false,\r\n                error: action.payload\r\n            }\r\n        case actions.LOG_IN_REQUESTED:\r\n            return {\r\n                ...state,\r\n                processing: true\r\n            }\r\n        case actions.LOG_IN_SUCCESS:\r\n            return {\r\n                ...state,\r\n                id: action.payload.id,\r\n                loggedIn: true,\r\n                processing: false,\r\n                cart: action.payload.cart,\r\n                purchased: action.payload.purchased,\r\n                email: action.payload.email,\r\n                username: action.payload.username,\r\n                token: action.payload.token,\r\n                refreshToken: action.payload.refreshToken,\r\n                refreshTokenExpiration: action.payload.refreshTokenExpiration,\r\n                expiration: action.payload.expiration,\r\n                error: null,\r\n                purchasesUpdateError: null\r\n            }\r\n        case actions.LOG_IN_FAILURE:\r\n            return {\r\n                ...state,\r\n                processing: false,\r\n                error: action.payload\r\n            }\r\n        case actions.USER_UPDATE_REQUESTED:\r\n            return {\r\n                ...state,\r\n                processing: true\r\n            }\r\n        case actions.USER_UPDATED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                username: action.payload.username,\r\n                email: action.payload.email,\r\n                processing: false,\r\n                error: null,\r\n                purchasesUpdateError: null\r\n            }\r\n        case actions.USER_UPDATE_FAILURE:\r\n            return {\r\n                ...state,\r\n                processing: false,\r\n                error: action.payload\r\n            }\r\n        case actions.APPEND_TO_CART_REQUESTED:\r\n            return {\r\n                ...state,\r\n                isLoadingAppendToCart: true\r\n            }\r\n        case actions.APPEND_TO_CART_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isLoadingAppendToCart: false,\r\n                cart: {\r\n                    items: [\r\n                        ...action.payload.items\r\n                    ],\r\n                    total: action.payload.total\r\n                },\r\n                showNotification: true\r\n            }\r\n        case actions.APPEND_TO_CART_FAILURE:\r\n            return {\r\n                ...state,\r\n                error: action.payload,\r\n                isLoadingAppendToCart: false\r\n            }\r\n        case actions.REMOVE_FROM_CART_REQUESTED:\r\n            return {\r\n                ...state,\r\n                isLoadingRemoveFromCart: true\r\n            }\r\n        case actions.REMOVE_FROM_CART_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                cart: {\r\n                    items: action.payload.items,\r\n                    total: action.payload.total\r\n                },\r\n                isLoadingRemoveFromCart: false\r\n            }\r\n        }\r\n        case actions.REMOVE_FROM_CART_FAILURE:\r\n            return {\r\n                ...state,\r\n                isLoadingRemoveFromCart: false,\r\n                error: action.payload\r\n            }\r\n        case actions.NOTIFICATION_CLOSED:\r\n            return {\r\n                ...state,\r\n                showNotification: false\r\n            }\r\n        case actions.GOOGLE_CONTINUE_REQUESTED:\r\n            return {\r\n                ...state,\r\n                isSigningUp: true\r\n            }\r\n        case actions.GOOGLE_CONTINUE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                id: action.payload.id,\r\n                loggedIn: true,\r\n                isSigningUp: false,\r\n                cart: action.payload.cart,\r\n                purchased: action.payload.purchased,\r\n                email: action.payload.email,\r\n                username: action.payload.username,\r\n                token: action.payload.token,\r\n                refreshToken: action.payload.refreshToken,\r\n                refreshTokenExpiration: action.payload.refreshTokenExpiration,\r\n                expiration: action.payload.expiration,\r\n                error: null,\r\n                purchasesUpdateError: null\r\n            }\r\n        case actions.GOOGLE_CONTINUE_FAILED:\r\n            return {\r\n                ...state,\r\n                isSigningUp: false,\r\n                error: action.payload\r\n            }\r\n        case actions.REFRESH_TOKEN_REQUESTED:\r\n            return {\r\n                ...state\r\n            }\r\n        case actions.REFRESH_TOKEN_SUCCESS:\r\n            return {\r\n                ...state,\r\n                token: action.payload.accessToken,\r\n                expiration: action.payload.expiration,\r\n                error: null\r\n            }\r\n        case actions.REFRESH_TOKEN_FAILED:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n        case actions.USER_ERROR_CLEARED:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n        case actions.USER_DATA_FETCH_FAILED:\r\n            return {\r\n                ...state,\r\n                error: action.payload,\r\n            }\r\n        case actions.USER_DATA_FETCH_SUCCESSFUL:\r\n            return {\r\n                ...state,\r\n                error: null,\r\n                cart: action.payload.cart,\r\n            }\r\n        case actions.PAYMENT_REQUESTED:\r\n            return {\r\n                ...state,\r\n                isProcessingPayment: true\r\n            }\r\n        case actions.CONFIRMATION_REQUESTED:\r\n            return {\r\n                ...state,\r\n                isConfirming: true\r\n            }\r\n        case actions.CONFIRMATION_SUCCESS:\r\n            return {\r\n                ...state,\r\n                id: action.payload.id,\r\n                loggedIn: true,\r\n                isConfirming: false,\r\n                cart: action.payload.cart,\r\n                purchased: action.payload.purchased,\r\n                email: action.payload.email,\r\n                username: action.payload.username,\r\n                token: action.payload.token,\r\n                refreshToken: action.payload.refreshToken,\r\n                refreshTokenExpiration: action.payload.refreshTokenExpiration,\r\n                expiration: action.payload.expiration,\r\n                error: null\r\n            }\r\n        case actions.CONFIRMATION_FAILED:\r\n            return {\r\n                ...state,\r\n                confirmationError: action.payload,\r\n                isConfirming: false\r\n            }\r\n        case actions.CONFIRMATION_ERROR_REMOVED:\r\n            return {\r\n                ...state,\r\n                confirmationError: null\r\n            }\r\n        case actions.CART_CLEARED:\r\n            return {\r\n                ...state,\r\n                cart: {\r\n                    items: [],\r\n                    total: 0\r\n                }\r\n            }\r\n        case actions.PAYMENT_ACCEPTED:\r\n            return {\r\n                ...state,\r\n                payed: true,\r\n                isProcessingPayment: false\r\n            }\r\n        case actions.PAYMENT_ACCEPTANCE_DROP:\r\n            return {\r\n                ...state,\r\n                payed: false\r\n            }\r\n        case actions.PAYMENT_DECLINED:\r\n            return {\r\n                ...state,\r\n                paymentError: action.payload,\r\n                isProcessingPayment: false\r\n            }\r\n        case actions.PAYMENT_DECLINE_DROP:\r\n            return {\r\n                ...state,\r\n                paymentError: null\r\n            }\r\n        case actions.PAYMENT_CANCELED:\r\n            return {\r\n                ...state,\r\n                paymentError: null,\r\n                isProcessingPayment: false\r\n            }\r\n\r\n        case actions.USER_PURCHASES_UPDATE_SUCCESSFUL:\r\n            return {\r\n                ...state,\r\n                purchased: action.payload\r\n            }\r\n        case actions.USER_PURCHASES_UPDATE_FAILED:\r\n            return {\r\n                ...state,\r\n                purchasesUpdateError: action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default userReducer;\r\n","module.exports = __webpack_public_path__ + \"static/media/error.07c94224.png\";","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {userDataFetchSuccessful, login, logOut, refreshToken} from \"../redux/actions\";\r\n\r\nlet refreshTokenTimer;\r\nlet logoutTimer;\r\n\r\nconst useAuth = () => {\r\n    const dispatch = useDispatch();\r\n    const [checking, setChecking] = useState(true);\r\n    const {token, expiration, refreshToken: currentRToken, refreshTokenExpirationDate, cart} = useSelector(state => state.userReducer);\r\n\r\n    useEffect(() => {\r\n        const userData = JSON.parse(localStorage.getItem('userData'));\r\n        const cartData = JSON.parse(localStorage.getItem('cartData'));\r\n        if (userData &&\r\n            userData.token &&\r\n            new Date(userData.expiration) > new Date()) {\r\n\r\n            dispatch(login(undefined, userData));\r\n            setChecking(false);\r\n        }\r\n        else if (cartData) {\r\n            dispatch(userDataFetchSuccessful({cart: cartData}));\r\n            setChecking(false);\r\n        }\r\n        else {\r\n            localStorage.setItem('cartData', JSON.stringify(cart));\r\n            setChecking(false);\r\n        }\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        if (token && expiration) {\r\n            const remainingTimeAccessToken = new Date(expiration).getTime() - new Date().getTime();\r\n            refreshTokenTimer = setTimeout(\r\n                () => {dispatch(refreshToken(currentRToken))},\r\n                remainingTimeAccessToken);\r\n        }\r\n        else {\r\n            clearTimeout(refreshTokenTimer);\r\n        }\r\n    }, [token, expiration]);\r\n\r\n    useEffect(() => {\r\n        if (refreshToken && refreshTokenExpirationDate) {\r\n            const remainingTimeRefreshToken = new Date(refreshTokenExpirationDate).getTime() - new Date().getTime();\r\n            logoutTimer = setTimeout(\r\n                () => {dispatch(logOut())}, remainingTimeRefreshToken\r\n            );\r\n        }\r\n        else {\r\n            clearTimeout(logoutTimer);\r\n        }\r\n    }, [refreshToken, refreshTokenExpirationDate])\r\n\r\n    return [checking];\r\n}\r\n\r\nexport default useAuth;\r\n\r\n","import ErrorBoundary from \"./error-boundary\";\r\n\r\nexport default ErrorBoundary;","import React, {Component} from \"react\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nexport default class ErrorBoundary extends Component {\r\n    state = {\r\n        hasError: false\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        this.setState(({hasError}) => {\r\n            return {hasError: !hasError};\r\n        });\r\n\r\n        console.log(error, errorInfo)\r\n    };\r\n\r\n    render() {\r\n        if (this.state.hasError)\r\n            return <ErrorIndicator/>;\r\n\r\n        return this.props.children;\r\n    };\r\n};\r\n","import Header from \"./header\";\r\n\r\nexport default Header;\r\n","import React, {useState} from \"react\";\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport \"./header.scss\";\r\nimport Navbar from \"react-bootstrap/cjs/Navbar\";\r\nimport Nav from \"react-bootstrap/cjs/Nav\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n    faAngleDown,\r\n    faAngleRight,\r\n    faBars,\r\n    faFileInvoice,\r\n    faShoppingCart,\r\n    faSignOutAlt,\r\n    faStore,\r\n    faTimes,\r\n    faUser,\r\n    faUserCircle\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport {ClickAwayListener, MenuItem, MenuList} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {logOut, notificationClosed} from \"../../redux/actions\";\r\nimport {Overlay, Popover} from \"react-bootstrap\";\r\n\r\nconst Header = () => {\r\n    const [isOpenedBurger, setOpenBurger] = useState(false);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const {loggedIn, showNotification, cart} = useSelector(state => state.userReducer);\r\n    const [openLogDropdown, setOpenLogDropdown] = React.useState(false);\r\n    const anchorRef = React.useRef(null);\r\n    const cartRef = React.useRef();\r\n    console.log(cartRef);\r\n    const handleToggle = () => {\r\n        setOpenLogDropdown((prevOpen) => !prevOpen);\r\n    };\r\n\r\n    const handleCloseDropdown = (path) => (event) => {\r\n        if (path) {\r\n            history.replace(path);\r\n        }\r\n        if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n            return;\r\n        }\r\n        setOpenLogDropdown(false);\r\n    };\r\n\r\n    const prevOpen = React.useRef(openLogDropdown);\r\n    React.useEffect(() => {\r\n        if (loggedIn) {\r\n            if (prevOpen.current === true && openLogDropdown === false) {\r\n                anchorRef.current.focus();\r\n            }\r\n        }\r\n        prevOpen.current = openLogDropdown;\r\n    }, [openLogDropdown]);\r\n\r\n    const handleListKeyDown = (event) => {\r\n        if (event.key === 'Tab') {\r\n            event.preventDefault();\r\n            setOpenLogDropdown(false);\r\n        }\r\n    }\r\n\r\n    let navbarStyles = \"justify-content-between bg-black\";\r\n\r\n    if (isOpenedBurger)\r\n        navbarStyles += \" curtain-padding\";\r\n    else\r\n        navbarStyles = \"justify-content-between bg-black\";\r\n\r\n    const SwitchIcon = (isOpened) => {\r\n        if (isOpened) {\r\n            return <FontAwesomeIcon icon={faTimes}/>;\r\n        }\r\n        return <FontAwesomeIcon icon={faBars}/>;\r\n    };\r\n\r\n    const ToggleMenu = ({id, \"aria-controls\": area, onClick, className}) => {\r\n\r\n        const switchUtility = () => {\r\n            setOpenBurger(!isOpenedBurger);\r\n            onClick()\r\n        };\r\n\r\n        return (\r\n            <button aria-controls={area}\r\n                    onClick={switchUtility}\r\n                    className={className}\r\n                    id={id}>{SwitchIcon(isOpenedBurger)}\r\n            </button>\r\n        );\r\n    }\r\n\r\n    const logDependentItem = loggedIn ? (\r\n        <>\r\n            <Button\r\n                className=\"login-menu-toggle-button\"\r\n                ref={anchorRef}\r\n                aria-controls={openLogDropdown ? 'menu-list-grow' : undefined}\r\n                aria-haspopup=\"true\"\r\n                onClick={handleToggle}\r\n            >\r\n                <FontAwesomeIcon icon={faUserCircle}/>&nbsp;Profile\r\n                &nbsp;\r\n                {\r\n                    openLogDropdown ?\r\n                        <FontAwesomeIcon icon={faAngleDown}/> :\r\n                        <FontAwesomeIcon icon={faAngleRight}/>\r\n                }\r\n            </Button>\r\n            <Popper\r\n                className=\"login-menu\"\r\n                open={openLogDropdown}\r\n                anchorEl={anchorRef.current}\r\n                role={undefined}\r\n                transition\r\n                disablePortal>\r\n                {({TransitionProps, placement}) => (\r\n                    <Grow\r\n                        {...TransitionProps}\r\n                        style={{transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'}}\r\n                    >\r\n                        <Paper className=\"paper-menu\">\r\n                            <ClickAwayListener onClickAway={handleCloseDropdown()}>\r\n                                <MenuList autoFocusItem={openLogDropdown} id=\"menu-list-grow\"\r\n                                          onKeyDown={handleListKeyDown}>\r\n                                    <MenuItem onClick={handleCloseDropdown('/account/profile')}>\r\n                                        <FontAwesomeIcon\r\n                                            icon={faFileInvoice}/> &nbsp; &nbsp; Account</MenuItem>\r\n                                    <MenuItem\r\n                                        onClick={handleCloseDropdown('/account/purchases')}><FontAwesomeIcon\r\n                                        icon={faStore}/> &nbsp; Purchases</MenuItem>\r\n                                    <hr/>\r\n                                    <MenuItem onClick={() => {\r\n                                        handleCloseDropdown('/logout');\r\n                                        setOpenLogDropdown(false);\r\n                                        dispatch(logOut());\r\n                                    }}><FontAwesomeIcon\r\n                                        icon={faSignOutAlt}/> &nbsp; Logout</MenuItem>\r\n                                </MenuList>\r\n                            </ClickAwayListener>\r\n                        </Paper>\r\n                    </Grow>\r\n                )}\r\n            </Popper>\r\n        </>) : (<Nav.Link className=\"invert login\" to=\"/auth/login\" as={Link}><FontAwesomeIcon\r\n        icon={faUser}/> Log In</Nav.Link>);\r\n\r\n    const popover = (\r\n        <Popover id=\"appended-popover-basic\" className={`appended-popover`} onClick={e => dispatch(notificationClosed())}>\r\n            <Popover.Title className={`popover-title`}>YOUR CART HAS {cart.items.length} ITEM(S)</Popover.Title>\r\n            <Popover.Content className={`popover-content`}>\r\n                You have successfully added <strong>1 beat</strong> to your cart.\r\n                <p>Total price: <strong>${cart.total.toFixed(2)}</strong></p>\r\n            </Popover.Content>\r\n        </Popover>\r\n    );\r\n    \r\n    return (\r\n        <header>\r\n            <Overlay target={cartRef.current}\r\n                     show={showNotification}\r\n                     placement=\"bottom\"\r\n                     rootClose={true}\r\n                     onHide={() => {}}\r\n                     rootCloseEvent={`click`}\r\n                     onEnter={() => setTimeout(() => dispatch(notificationClosed()), 5000)}\r\n            >\r\n                {popover}\r\n            </Overlay>\r\n            <Navbar className={navbarStyles} variant=\"dark\" expand=\"sm\">\r\n                <Navbar.Brand className=\"nav__main-caption\" to=\"/\" as={Link}>Cherries</Navbar.Brand>\r\n                <Navbar.Toggle id=\"baton\" aria-controls=\"nav-bar\" as={ToggleMenu}/>\r\n                <Navbar.Collapse id=\"nav-bar\">\r\n                    <Nav>\r\n                        <Nav.Link to=\"/beats\" as={Link}>Beats</Nav.Link>\r\n                        <Nav.Link to=\"/contact\" as={Link}>Contact</Nav.Link>\r\n                        <Nav.Link to=\"/about\" as={Link}>About</Nav.Link>\r\n                        <Nav.Link className=\"header__cart-button\" to=\"/checkout\"\r\n                                  as={Link}\r\n                                  ref={cartRef}\r\n                                  onClick={() => {\r\n                                    dispatch(notificationClosed());\r\n                                  }}>\r\n                            <FontAwesomeIcon className=\"header__cart-icon\" icon={faShoppingCart}/> Cart\r\n\r\n                        </Nav.Link>\r\n\r\n                        {logDependentItem}\r\n                        {/*{*/}\r\n                        {/*    !customer.isLoggedIn*/}\r\n                        {/*        ? <Nav.Link className=\"invert login\" to=\"/login\" as={Link}><FontAwesomeIcon icon={faUser}/>Log In</Nav.Link>*/}\r\n                        {/*        : <button className=\"invert-button\" onClick={() => {*/}\r\n                        {/*            loggedIn();*/}\r\n                        {/*            localStorage.removeItem('token')*/}\r\n                        {/*        }}>Log out</button>*/}\r\n                        {/*}*/}\r\n\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        </header>\r\n    );\r\n}\r\n\r\n\r\nexport default Header;\r\n","import React, {useContext, useEffect, useRef, useState} from 'react';\r\nimport 'react-jinke-music-player/assets/index.css';\r\nimport 'react-jinke-music-player/lib/styles/index.less'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {audioLoaded, audioPlayed, audioStopped} from \"../../redux/actions\";\r\nimport AudioInstanceContext from \"../audio-instance-context\";\r\nimport ReactPlayer from \"react-player\";\r\nimport {withStyles} from \"@material-ui/core\";\r\nimport Slider from '@material-ui/core/Slider';\r\nimport BeatstoreService from \"../../services\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\nimport {faPause, faPlay, faStepBackward, faStepForward} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {Repeat, RepeatOne, VolumeDown, VolumeUp} from '@material-ui/icons';\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\nimport './music-player.scss';\r\nimport SpinnerAudio from \"../spinner-audio\";\r\n\r\nconst PrettoSlider = withStyles({\r\n    root: {\r\n        color: '#00FFF9',\r\n        height: 8,\r\n    },\r\n    thumb: {\r\n        transition: '.2s ease-in-out',\r\n        height: 15,\r\n        width: 15,\r\n        backgroundColor: '#00FFF9',\r\n        border: '2px solid #00FFF9',\r\n        marginTop: -8,\r\n        marginLeft: -12,\r\n        '&:focus, &:hover, &$active': {\r\n            boxShadow: 'inherit',\r\n        },\r\n    },\r\n\r\n    active: {},\r\n    valueLabel: {\r\n        left: 'calc(-50% - 4px)',\r\n        '& *': {\r\n            background: 'transparent',\r\n            fontWeight: 'bold'\r\n        },\r\n        borderRadius: 0\r\n    },\r\n    track: {\r\n        transition: '.2s ease-in-out',\r\n        height: 2,\r\n        width: '100%'\r\n    },\r\n    rail: {\r\n        background: 'black',\r\n        height: 2,\r\n    },\r\n})(Slider);\r\n\r\nconst VolumeSlider = withStyles({\r\n    root: {\r\n        color: '#00FFF9',\r\n        height: 8,\r\n    },\r\n    thumb: {\r\n        height: 15,\r\n        width: 15,\r\n        backgroundColor: '#00FFF9',\r\n        border: '2px solid #00FFF9',\r\n        marginTop: -8,\r\n        marginLeft: -12,\r\n        '&:focus, &:hover, &$active': {\r\n            boxShadow: 'inherit',\r\n        },\r\n\r\n    },\r\n\r\n    active: {},\r\n    valueLabel: {\r\n        left: 'calc(-50% - 4px)',\r\n        '& *': {\r\n            background: 'transparent',\r\n            fontWeight: 'bold'\r\n        },\r\n        borderRadius: 0\r\n    },\r\n    track: {\r\n\r\n\r\n        height: 2,\r\n        width: '100%'\r\n    },\r\n    rail: {\r\n        background: 'black',\r\n        height: 2,\r\n    },\r\n})(Slider);\r\n\r\n\r\nconst MusicPlayer = () => {\r\n\r\n    // // loadFile = async () => {\r\n    // //     const response = await axios.get('http://localhost:5000/beat', {\r\n    // //         responseType: 'blob',\r\n    // //         headers: {\r\n    // //             'Content-Type': 'audio/mp3',\r\n    // //         },\r\n    // //     });\r\n    // //     const blob = new Blob([response.data], {type: 'audio/mp3'});\r\n    // //     const url = URL.createObjectURL(blob);\r\n    // //     if (!this.state.url) {\r\n    // //         this.load(url);\r\n    // //     }\r\n    // // }\r\n\r\n    // redux states\r\n    const {id, isPlaying, previousId} = useSelector(state => state.audioReducer);\r\n    const {beatList, latestBeats} = useSelector(state => state.beatsReducer);\r\n    const dispatch = useDispatch();\r\n\r\n    // context audio instance\r\n    const audio = useContext(AudioInstanceContext);\r\n\r\n    // audio player states\r\n    const [playerState, setPlayerState] = useState({\r\n        duration: 0,\r\n        loop: false,\r\n        seeking: false,\r\n        volume: 0.8,\r\n        url: null,\r\n        imgUrl: null,\r\n        title: null,\r\n        error: null,\r\n        index: null,\r\n        audioList: [],\r\n        show: false,\r\n        loading: false,\r\n        played: 0,\r\n        loaded: 0\r\n    });\r\n\r\n    const playerInstanceRef = useRef(null);\r\n\r\n    // audio instance\r\n    const playerRef = (player) => {\r\n        playerInstanceRef.current = player;\r\n        audio.updateValue.setAudioInstance(player);\r\n    }\r\n\r\n\r\n    // handle player and pause\r\n    const handlePlay = () => {\r\n        console.log('onPlay');\r\n        dispatch(audioPlayed());\r\n    }\r\n\r\n    const handlePause = () => {\r\n        dispatch(audioStopped());\r\n    }\r\n\r\n    const handlePlayPause = () => {\r\n        if (isPlaying) {\r\n            dispatch(audioStopped());\r\n        } else {\r\n            dispatch(audioPlayed());\r\n        }\r\n    }\r\n\r\n    // handle seek on mouse down event\r\n    const handleSeekMouseDown = e => {\r\n        setPlayerState(playerState => {\r\n            return {\r\n                ...playerState,\r\n                seeking: !playerState.seeking\r\n            }\r\n        });\r\n    }\r\n\r\n    // handle seek when its value has changed\r\n    const handleSeekChange = (e, value) => {\r\n        handleSeekMouseDown(e);\r\n        setPlayerState(playerState => {\r\n            return {\r\n                ...playerState,\r\n                seeking: !playerState.seeking,\r\n                played: parseFloat(value)\r\n            }\r\n        });\r\n    }\r\n\r\n    // change value when mouse button is released\r\n    const handleSeekMouseUp = (e, value) => {\r\n        const played = parseFloat(value);\r\n\r\n        setPlayerState(playerState => {\r\n            return {\r\n                ...playerState,\r\n                played: played\r\n            }\r\n        })\r\n        playerInstanceRef.current.seekTo(played)\r\n    }\r\n\r\n    const handleAudioProgress = state => {\r\n        // console.log('onProgress', state);\r\n\r\n        if (!playerState.seeking) {\r\n            setPlayerState(playerState => {\r\n                return {\r\n                    ...playerState,\r\n                    played: state.playedSeconds,\r\n                    loaded: state.loadedSeconds\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    // handle case when audio is ended, so we should either continue playing the same song or stop\r\n    const handleEnded = () => {\r\n        console.log('onEnded HERE')\r\n\r\n        if (playerState.loop) {\r\n            dispatch(audioPlayed());\r\n        } else if (playerState.index + 1 < playerState.audioList.length) {\r\n            // dispatch(audioLoaded(playerState.audioList[playerState.index + 1].id));\r\n            handleStepForward();\r\n        }\r\n        else {\r\n            dispatch(audioStopped());\r\n        }\r\n    }\r\n\r\n    // handle duration state of the player itself\r\n    const handleDuration = duration => {\r\n        // console.log('onDuration', duration);\r\n\r\n        setPlayerState(playerState => {\r\n            return {\r\n                ...playerState,\r\n                duration\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleLoop = e => {\r\n        setPlayerState(playerState => {\r\n            return {\r\n                ...playerState,\r\n                loop: !playerState.loop\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleVolumeChange = (e, value) => {\r\n        setPlayerState(playerState => {\r\n            return {\r\n                ...playerState,\r\n                volume: parseFloat(value)\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleStepForward = e => {\r\n        const newIndex = playerState.index + 1;\r\n        if (newIndex >= playerState.audioList.length)\r\n            return;\r\n\r\n        dispatch(audioLoaded(playerState.audioList[newIndex].id));\r\n    }\r\n    const handleStepBackward = e => {\r\n        const newIndex = playerState.index - 1;\r\n        if (newIndex < 0)\r\n            return;\r\n\r\n        dispatch(audioLoaded(playerState.audioList[newIndex].id));\r\n    }\r\n\r\n    useEffect(() => {\r\n        const baseUrl = process.env.REACT_APP_BACKEND_ASSET_URL;\r\n        const beatstoreService = new BeatstoreService();\r\n\r\n        if (beatList.length > 0 && id) {\r\n            setPlayerState(playerState => {\r\n                return {\r\n                    ...playerState,\r\n                    audioList: beatList,\r\n                    index: beatList.findIndex(a => a.id === id)\r\n                }\r\n            })\r\n        }\r\n\r\n        if (id) {\r\n            setPlayerState(playerState => {\r\n                return {\r\n                    ...playerState,\r\n                    loading: true,\r\n                    played: 0,\r\n                    loaded: 0\r\n                }\r\n            });\r\n            beatstoreService.getBeatById(id).then(({data}) => {\r\n                const itsUrl = baseUrl + data.beat.previewAudioUrl.replaceAll('\\\\', '/');\r\n                const imageUrl = process.env.REACT_APP_BACKEND_ASSET_URL + data.beat.imgUrl;\r\n\r\n                setPlayerState(playerState => {\r\n                    return {\r\n                        ...playerState,\r\n                        url: itsUrl,\r\n                        imgUrl: imageUrl,\r\n                        title: data.beat.title,\r\n                        loading: false\r\n                    }\r\n                });\r\n            }).catch(error => {\r\n                setPlayerState(playerState => {\r\n                    return {\r\n                        ...playerState,\r\n                        error: error,\r\n                        loading: false\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }, [id])\r\n\r\n    useEffect(() => {\r\n        if (playerState.audioList.length > 0) {\r\n            setPlayerState(playerState => {\r\n                return {\r\n                    ...playerState,\r\n                    show: true\r\n                }\r\n            })\r\n        }\r\n    }, [playerState.audioList])\r\n\r\n    const player = playerState.show || id ? ( // TODO AND NEW WRAPPER WITH ON ANIMATION END EVENT\r\n        <div className={`music-player__container`}>\r\n            <div className={`progress-bar`}>\r\n                <PrettoSlider\r\n                    min={0}\r\n                    max={playerState.duration}\r\n                    defaultValue={0}\r\n                    value={playerState.played}\r\n                    valueLabelDisplay=\"auto\"\r\n                    aria-label=\"pretto slider\"\r\n                    valueLabelFormat={(value) => {\r\n                        const minutesInt = Math.floor(value / 60);\r\n                        const secondsInt = Math.floor(value % 60);\r\n\r\n                        const formattedMinutes = minutesInt < 10 ? '0' + String(minutesInt) : String(minutesInt);\r\n                        const formattedSeconds = secondsInt < 10 ? '0' + String(secondsInt) : String(secondsInt);\r\n                        return (\r\n                            <div\r\n                                className={`seconds-display`}>{formattedMinutes + ':' + formattedSeconds}</div>);\r\n                    }}\r\n                    onChange={handleSeekChange}\r\n                    onChangeCommitted={handleSeekMouseUp}\r\n                />\r\n            </div>\r\n            <div className={`main-content`}>\r\n                <div className={`information-container`}>\r\n                    <div className={`image-container`}>\r\n                        <img src={playerState.imgUrl} alt=\"beat image\"/>\r\n                    </div>\r\n                    <div className={'title-container'}>\r\n                        <div className={`title`}>{playerState.title}</div>\r\n                        <div className={`author`}>Cherries By</div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    playerState.loading ?\r\n                        <SpinnerAudio/>\r\n                        :\r\n                        <div className={`player-buttons`}>\r\n                            <div className={`repeat`} onClick={handleLoop}>\r\n                                {playerState.loop ? <RepeatOne/> : <Repeat/>}\r\n                            </div>\r\n                            <div className={`step-backward`} onClick={handleStepBackward}>\r\n                                <FontAwesomeIcon icon={faStepBackward}/>\r\n                            </div>\r\n                            <div className={`play`} onClick={handlePlayPause}>\r\n                                <FontAwesomeIcon className={`icon`} icon={isPlaying ? faPause : faPlay}/>\r\n                            </div>\r\n                            <div className={`step-forward`} onClick={handleStepForward}>\r\n                                <FontAwesomeIcon icon={faStepForward}/>\r\n                            </div>\r\n                            <div className={`repeat`} style={{visibility: 'hidden'}}>\r\n                                {playerState.loop ? <RepeatOne/> : <Repeat/>}\r\n                            </div>\r\n                        </div>\r\n                }\r\n                <div className={`player-actions`}>\r\n                    <div className={`volume`}>\r\n                        <VolumeDown/>\r\n                        <VolumeSlider\r\n                            className={'slider'}\r\n                            min={0}\r\n                            max={1}\r\n                            step={0.01}\r\n                            value={playerState.volume}\r\n                            onChange={handleVolumeChange}\r\n                            onChangeCommitted={handleVolumeChange}\r\n                            valueLabelDisplay=\"off\"\r\n                            aria-label=\"pretto slider\"\r\n                        />\r\n                        <VolumeUp/>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) : null;\r\n\r\n    if (playerState.error) {\r\n        return <ErrorIndicator/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className='player-wrapper'>\r\n                <ReactPlayer\r\n                    ref={playerRef}\r\n                    className='react-player'\r\n                    width='100%'\r\n                    height='100%'\r\n                    url={playerState.url}\r\n                    playing={isPlaying}\r\n                    loop={playerState.loop}\r\n                    volume={playerState.volume}\r\n                    onReady={() => console.log('onReady')}\r\n                    onStart={() => console.log('onStart')}\r\n                    onBuffer={() => console.log('onBuffer')}\r\n                    onSeek={e => console.log('onSeek', e)}\r\n                    onEnded={handleEnded}\r\n                    onError={e => {\r\n                        setPlayerState(playerState => {\r\n                            return {\r\n                                ...playerState,\r\n                                error: e\r\n                            };\r\n                        })\r\n                    }}\r\n                    onProgress={handleAudioProgress}\r\n                    onDuration={handleDuration}\r\n                />\r\n            </div>\r\n            {player}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MusicPlayer;","import MusicPlayer from \"./music-player\";\r\n\r\nexport default MusicPlayer;","import BlurredSpinner from \"./blurred-spinner\";\r\n\r\nexport default BlurredSpinner;","import React from 'react';\r\n\r\nimport './blurred-spinner.scss';\r\nimport Spinner from \"../spinner\";\r\n\r\nconst BlurredSpinner = (props) => {\r\n\r\n    return (\r\n        <div className={`blurred-spinner`}>\r\n            <Spinner/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BlurredSpinner;","import React, {Suspense, useEffect} from \"react\";\r\n\r\nimport Header from \"../../components/header\";\r\n\r\nimport {BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\r\nimport MusicPlayer from \"../../components/music-player\";\r\nimport Footer from \"../../components/footer\";\r\nimport Spinner from \"../../components/spinner\";\r\nimport useAuth from \"../../hooks/auth-hook\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {fetchLicenses} from \"../../redux/actions\";\r\nimport BlurredSpinner from \"../../components/blurred-spinner\";\r\n\r\nconst ContactPage = React.lazy(() => import('../../pages/contact-page'));\r\nconst CheckoutPage = React.lazy(() => import('../../pages/checkout-page'));\r\nconst BeatsPage = React.lazy(() => import('../../pages/beats-page'));\r\nconst AuthContainer = React.lazy(() => import('../auth-container'));\r\nconst AccountPage = React.lazy(() => import('../../pages/account-page'));\r\nconst ConfirmationPage = React.lazy(() => import('../../pages/confirmation-page'));\r\nconst PurchaseSuccessful = React.lazy(() => import('../../pages/purchase-successful'));\r\nconst PurchaseFailed = React.lazy(() => import('../../pages/purchase-failed'));\r\nconst MainPage = React.lazy(() => import('../../pages/main-page'));\r\nconst PageNotFound = React.lazy(() => import('../../components/page-not-found'));\r\n\r\nconst RoutingContainer = () => {\r\n    const [checking] = useAuth();\r\n    const dispatch = useDispatch();\r\n    const {\r\n        isLoadingAppendToCart,\r\n        isLoggingOut,\r\n        isProcessingPayment,\r\n        processing\r\n    } = useSelector(state => state.userReducer);\r\n    useEffect(() => {\r\n        dispatch(fetchLicenses());\r\n    }, []);\r\n\r\n\r\n    if (checking || isLoggingOut || processing) {\r\n        return <Spinner/>\r\n    }\r\n\r\n    return (\r\n        <Router>\r\n            {isLoadingAppendToCart || isProcessingPayment ? <BlurredSpinner/> : null}\r\n            <Header/>\r\n            <main>\r\n                <Suspense fallback={<Spinner/>}>\r\n                    <MusicPlayer/>\r\n                    <Switch>\r\n                        <Route exact path=\"/\" component={MainPage}/>\r\n                        <Route exact path=\"/contact\" component={ContactPage}/>\r\n                        <Route exact path=\"/checkout\" component={CheckoutPage}/>\r\n                        <Route exact path=\"/beats\" component={BeatsPage}/>\r\n                        <Route exact path=\"/beats/:id\" component={BeatsPage}/>\r\n                        <Route path=\"/auth\" component={AuthContainer}/>\r\n                        <Route path=\"/account\" component={AccountPage}/>\r\n                        <Route path=\"/checkout/success\" exact component={PurchaseSuccessful}/>\r\n                        <Route path=\"/checkout/failed\" exact component={PurchaseFailed}/>\r\n                        <Route path=\"/confirmation/:confirmationCode\" exact component={ConfirmationPage}/>\r\n                        <Route component={PageNotFound}/>\r\n                    </Switch>\r\n                </Suspense>\r\n            </main>\r\n            <Footer/>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default RoutingContainer;\r\n","import * as actions from '../../constants/redux-action-names';\r\nimport {NUMBER_OF_BEATS_PER_LOAD} from \"../../constants/other-constants\";\r\n\r\n\r\nconst initialState = {\r\n    beatList: [],\r\n    isLoading: false,\r\n    isLoadingInfo: false,\r\n    error: null,\r\n    hasMore: true,\r\n    skip: 0,\r\n    filter: {\r\n        bpm: null,\r\n        moods: null,\r\n        genres: null,\r\n        tags: null,\r\n        search: ''\r\n    },\r\n    info: {\r\n        bpms: [],\r\n        genres: [],\r\n        moods: [],\r\n        tags: []\r\n    },\r\n    isFiltering: false\r\n};\r\n\r\nconst beatsReducer = (state = initialState, action) => {\r\n    let hasMore = true;\r\n\r\n\r\n    switch (action.type) {\r\n        case actions.BEATS_REQUESTED:\r\n            return {\r\n                ...state,\r\n                isLoading: true,\r\n            };\r\n        case actions.BEATS_LOADED:\r\n            let skip;\r\n            if (action.payload.beats.length === 0) {\r\n                hasMore = !hasMore;\r\n            }\r\n            if (action.payload.limit) {\r\n                skip = action.payload.limit\r\n            } else {\r\n                skip = state.skip + NUMBER_OF_BEATS_PER_LOAD\r\n            }\r\n            return {\r\n                ...state,\r\n                beatList: [...state.beatList, ...action.payload.beats],\r\n                isLoading: false,\r\n                hasMore,\r\n                skip\r\n            };\r\n        case actions.BEATS_DROPPED:\r\n            return {\r\n                ...state,\r\n                beatList: [],\r\n                skip: 0,\r\n                hasMore: true\r\n            }\r\n        case actions.BEATS_FAILURE:\r\n            return {\r\n                ...state,\r\n                hasMore: false,\r\n                beatList: [],\r\n                isLoading: false,\r\n                error: action.payload\r\n            };\r\n        case actions.BEATS_INFO_REQUESTED:\r\n            return {\r\n                ...state,\r\n                isLoadingInfo: true\r\n            }\r\n        case actions.BEATS_INFO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isLoadingInfo: false,\r\n                info: action.payload\r\n            }\r\n        case actions.BEATS_INFO_FAILURE:\r\n            return {\r\n                ...state,\r\n                isLoadingInfo: false,\r\n                error: action.payload,\r\n                hasMore: false\r\n            }\r\n        case actions.FILTER_REQUESTED:\r\n            return {\r\n                ...state,\r\n                isFiltering: true\r\n            }\r\n        case actions.FILTER_SUCCESS:\r\n            if (action.payload.beats.length === 0) {\r\n                hasMore = !hasMore;\r\n            }\r\n            console.log({\r\n                ...state.filter,\r\n                ...action.payload.filter\r\n            });\r\n            return {\r\n                ...state,\r\n                skip: action.payload.limit,\r\n                isFiltering: false,\r\n                beatList: action.payload.beats,\r\n                hasMore,\r\n                filter: {\r\n                    ...action.payload.filter,\r\n                    search: state.filter.search\r\n                }\r\n            }\r\n        case actions.FILTER_SEARCH_SET:\r\n\r\n            return {\r\n                ...state,\r\n                filter: {\r\n                    ...state.filter,\r\n                    search: action.payload\r\n                }\r\n            }\r\n        case actions.FILTER_DROPPED:\r\n            return initialState;\r\n        case actions.FILTER_FAILURE:\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                isFiltering: false,\r\n                error: action.payload,\r\n                hasMore: false\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default beatsReducer;","const NUMBER_OF_BEATS_PER_LOAD = 10;\r\n\r\n\r\nexport {\r\n    NUMBER_OF_BEATS_PER_LOAD\r\n}","import * as actions from '../../constants/redux-action-names';\r\n\r\nconst initialState = {\r\n    isLoading: false,\r\n    error: null,\r\n    licenses: []\r\n}\r\n\r\nconst licensesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actions.LICENSES_REQUESTED:\r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            }\r\n        case actions.LICENSES_SUCCESS:\r\n            return {\r\n                isLoading: false,\r\n                licenses: action.payload\r\n            }\r\n        case actions.LICENSES_FAILURE:\r\n            return {\r\n                isLoading: false,\r\n                error: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default licensesReducer;","import beatsReducer from \"./beats-reducer\";\r\nimport audioReducer from \"./audio-reducer\";\r\nimport userReducer from \"./user-reducer\";\r\nimport licensesReducer from \"./licenses-reducer\";\r\n\r\nimport {combineReducers} from \"redux\";\r\n\r\n\r\nexport default combineReducers({\r\n    beatsReducer,\r\n    audioReducer,\r\n    userReducer,\r\n    licensesReducer\r\n});","import {createStore} from \"redux\";\r\nimport {composeWithDevTools, devToolsEnhancer} from \"redux-devtools-extension\";\r\nimport rootReducer from './reducers';\r\nimport {applyMiddleware} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\n\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\nexport default store;","import React, {useEffect, useState} from 'react';\r\nimport ErrorBoundary from \"./components/error-boundary\";\r\nimport RoutingContainer from \"./containers/routing-container/routing-container\";\r\nimport {Provider, useDispatch} from 'react-redux';\r\nimport {login} from './redux/actions';\r\nimport store from \"./redux/store\";\r\nimport AudioInstanceContext from \"./components/audio-instance-context\";\r\n\r\nimport './App.scss';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'semantic-ui-css/semantic.min.css';\r\n\r\nconst App = () => {\r\n    const [audioInstance, setAudioInstance] = useState(null);\r\n    const [source, setSource] = useState(false);\r\n\r\n    return (\r\n        <ErrorBoundary>\r\n            <AudioInstanceContext.Provider value={\r\n                {\r\n                    state: {audioInstance, source},\r\n                    updateValue: {\r\n                        setAudioInstance, setSource\r\n                    }\r\n                }\r\n            }>\r\n                <Provider store={store}>\r\n                    <RoutingContainer/>\r\n                </Provider>\r\n            </AudioInstanceContext.Provider>\r\n        </ErrorBoundary>\r\n    );\r\n};\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from \"./App\";\n\n\nReactDOM.render(<App/>, document.getElementById('root'));","const BEATS_REQUESTED = 'BEATS_REQUESTED';\r\nconst BEATS_LOADED = 'BEATS_LOADED';\r\nconst BEATS_FAILURE = 'BEATS_ERROR';\r\nconst BEATS_FILTER_SET = 'SET_BEATS_FILTER';\r\n\r\nconst BEATS_INFO_REQUESTED = 'BEATS_INFO_REQUESTED';\r\nconst BEATS_INFO_SUCCESS = 'BEATS_INFO_SUCCESS';\r\nconst BEATS_INFO_FAILURE = 'BEATS_INFO_FAILURE';\r\nconst BEATS_DROPPED = 'BEATS_DROPPED';\r\n\r\nconst FILTER_REQUESTED = 'FILTER_REQUESTED';\r\nconst FILTER_SUCCESS = 'FILTER_SUCCESS';\r\nconst FILTER_FAILURE = 'FILTER_FAILURE';\r\nconst FILTER_SEARCH_SET = 'FILTER_SEARCH_SET';\r\nconst FILTER_DROPPED = 'FILTER_DROPPED';\r\n\r\nconst AUDIO_PLAYED = 'AUDIO_PLAYED';\r\nconst AUDIO_STOPPED = 'AUDIO_STOPPED';\r\nconst AUDIO_LOADED = 'AUDIO_LOADED';\r\nconst AUDIO_LENGTH_PLAYED = 'AUDIO_LENGTH_PLAYED';\r\nconst AUDIO_LENGTH_LOADED = 'AUDIO_LENGTH_LOADED';\r\nconst AUDIO_TOGGLE = 'AUDIO_TOGGLE';\r\n\r\nconst SIGN_UP_REQUESTED = 'SIGN_UP_REQUESTED';\r\nconst SIGN_UP_SUCCESS = 'SIGN_UP_SUCCESS';\r\nconst SIGN_UP_FAILURE = 'SIGN_UP_FAILURE';\r\nconst LOGGED_OUT_REQUESTED = 'LOGGED_OUT_REQUESTED';\r\nconst LOGGED_OUT_SUCCESS = 'LOGGED_OUT_SUCCESS';\r\nconst LOGGED_OUT_FAILED = 'LOGGED_OUT_FAILED';\r\nconst LOG_IN_REQUESTED = 'LOG_IN_REQUESTED';\r\nconst LOG_IN_SUCCESS = 'LOG_IN_SUCCESS';\r\nconst LOG_IN_FAILURE = 'LOG_IN_FAILURE';\r\nconst USER_UPDATE_REQUESTED = 'USER_UPDATE_REQUESTED';\r\nconst USER_UPDATED_SUCCESS = 'USER_UPDATED_SUCCESS';\r\nconst USER_UPDATE_FAILURE = 'USER_UPDATE_FAILURE';\r\nconst REFRESH_TOKEN_REQUESTED = 'REFRESH_TOKEN_REQUESTED';\r\nconst REFRESH_TOKEN_SUCCESS = 'REFRESH_TOKEN_SUCCESS';\r\nconst REFRESH_TOKEN_FAILED = 'REFRESH_TOKEN_FAILED';\r\nconst USER_ERROR_CLEARED = 'USER_ERROR_CLEARED';\r\nconst USER_DATA_FETCH_SUCCESSFUL = 'USER_DATA_FETCH_SUCCESSFUL';\r\nconst USER_DATA_FETCH_FAILED = 'USER_DATA_FETCH_FAILED';\r\nconst PAYMENT_REQUESTED = 'PAYMENT_REQUESTED';\r\nconst PAYMENT_SUCCESS = 'PAYMENT_SUCCESS';\r\nconst PAYMENT_FAILED = 'PAYMENT_FAILED';\r\nconst CONFIRMATION_REQUESTED = 'CONFIRMATION_REQUESTED';\r\nconst CONFIRMATION_SUCCESS = 'CONFIRMATION_SUCCESS';\r\nconst CONFIRMATION_FAILED = 'CONFIRMATION_FAILED';\r\nconst CONFIRMATION_ERROR_REMOVED = 'CONFIRMATION_ERROR_REMOVED';\r\nconst CART_CLEARED = 'CART_CLEARED';\r\nconst PAYMENT_ACCEPTED = 'PAYMENT_ACCEPTED';\r\nconst PAYMENT_ACCEPTANCE_DROP = 'PAYMENT_ACCEPTANCE_DROP';\r\nconst PAYMENT_DECLINED = 'PAYMENT_DECLINED';\r\nconst PAYMENT_DECLINE_DROP = 'PAYMENT_DECLINE_DROP';\r\nconst PAYMENT_CANCELED = 'PAYMENT_CANCELED';\r\nconst USER_PURCHASES_UPDATE_SUCCESSFUL = 'USER_PURCHASES_UPDATE_SUCCESSFUL';\r\nconst USER_PURCHASES_UPDATE_FAILED = 'USER_PURCHASES_UPDATE_FAILED';\r\nconst GOOGLE_CONTINUE_REQUESTED = 'GOOGLE_CONTINUE_REQUESTED';\r\nconst GOOGLE_CONTINUE_SUCCESS = 'GOOGLE_CONTINUE_SUCCESS';\r\nconst GOOGLE_CONTINUE_FAILED = 'GOOGLE_CONTINUE_FAILED';\r\n\r\nconst LICENSES_REQUESTED = 'LICENSES_REQUESTED';\r\nconst LICENSES_SUCCESS = 'LICENSES_SUCCESS';\r\nconst LICENSES_FAILURE = 'LICENSES_FAILURE';\r\n\r\nconst APPEND_TO_CART_REQUESTED = 'APPEND_TO_CART_REQUESTED';\r\nconst APPEND_TO_CART_SUCCESS = 'APPEND_TO_CART_SUCCESS';\r\nconst APPEND_TO_CART_FAILURE = 'APPEND_TO_CART_FAILURE';\r\nconst NOTIFICATION_CLOSED = 'NOTIFICATION_CLOSED';\r\nconst APPEND_TO_CART_OFFLINE_SUCCESS = 'APPEND_TO_CART_OFFLINE_SUCCESS';\r\n\r\nconst REMOVE_FROM_CART_REQUESTED = 'REMOVE_FROM_CART_REQUESTED'\r\nconst REMOVE_FROM_CART_SUCCESS = 'REMOVE_FROM_CART_SUCCESS'\r\nconst REMOVE_FROM_CART_FAILURE = 'REMOVE_FROM_CART_FAILURE'\r\nconst REMOVE_FROM_CART_OFFLINE_SUCCESS = 'REMOVE_FROM_CART_OFFLINE_SUCCESS';\r\n\r\nexport {\r\n    BEATS_REQUESTED,\r\n    BEATS_LOADED,\r\n    BEATS_FAILURE,\r\n    BEATS_FILTER_SET,\r\n    BEATS_DROPPED,\r\n\r\n    FILTER_REQUESTED,\r\n    FILTER_SUCCESS,\r\n    FILTER_FAILURE,\r\n    FILTER_SEARCH_SET,\r\n    FILTER_DROPPED,\r\n\r\n    BEATS_INFO_REQUESTED,\r\n    BEATS_INFO_SUCCESS,\r\n    BEATS_INFO_FAILURE,\r\n\r\n    AUDIO_PLAYED,\r\n    AUDIO_STOPPED,\r\n    AUDIO_LOADED,\r\n    AUDIO_LENGTH_PLAYED,\r\n    AUDIO_LENGTH_LOADED,\r\n    AUDIO_TOGGLE,\r\n\r\n    SIGN_UP_REQUESTED,\r\n    SIGN_UP_SUCCESS,\r\n    SIGN_UP_FAILURE,\r\n    LOG_IN_REQUESTED,\r\n    LOG_IN_FAILURE,\r\n    LOG_IN_SUCCESS,\r\n    USER_UPDATE_REQUESTED,\r\n    USER_UPDATED_SUCCESS,\r\n    USER_UPDATE_FAILURE,\r\n    LOGGED_OUT_REQUESTED,\r\n    LOGGED_OUT_SUCCESS,\r\n    LOGGED_OUT_FAILED,\r\n    REFRESH_TOKEN_REQUESTED,\r\n    REFRESH_TOKEN_SUCCESS,\r\n    REFRESH_TOKEN_FAILED,\r\n    USER_ERROR_CLEARED,\r\n    USER_DATA_FETCH_FAILED,\r\n    USER_DATA_FETCH_SUCCESSFUL,\r\n    PAYMENT_REQUESTED,\r\n    CONFIRMATION_FAILED,\r\n    CONFIRMATION_REQUESTED,\r\n    CONFIRMATION_SUCCESS,\r\n    CONFIRMATION_ERROR_REMOVED,\r\n    CART_CLEARED,\r\n    PAYMENT_ACCEPTED,\r\n    PAYMENT_ACCEPTANCE_DROP,\r\n    PAYMENT_DECLINED,\r\n    PAYMENT_DECLINE_DROP,\r\n    PAYMENT_CANCELED,\r\n    USER_PURCHASES_UPDATE_SUCCESSFUL,\r\n    USER_PURCHASES_UPDATE_FAILED,\r\n    GOOGLE_CONTINUE_FAILED,\r\n    GOOGLE_CONTINUE_REQUESTED,\r\n    GOOGLE_CONTINUE_SUCCESS,\r\n\r\n    LICENSES_REQUESTED,\r\n    LICENSES_SUCCESS,\r\n    LICENSES_FAILURE,\r\n\r\n    APPEND_TO_CART_REQUESTED,\r\n    APPEND_TO_CART_SUCCESS,\r\n    APPEND_TO_CART_FAILURE,\r\n    NOTIFICATION_CLOSED,\r\n    APPEND_TO_CART_OFFLINE_SUCCESS,\r\n\r\n    REMOVE_FROM_CART_REQUESTED,\r\n    REMOVE_FROM_CART_SUCCESS,\r\n    REMOVE_FROM_CART_FAILURE,\r\n    REMOVE_FROM_CART_OFFLINE_SUCCESS\r\n};\r\n\r\n","import React from 'react';\r\nimport './spinner.scss';\r\n\r\nconst Spinner = () => {\r\n\r\n    return (\r\n        <div className=\"spinner\">\r\n            <div className=\"loadingio-spinner-ripple-juveeck0jk\">\r\n                <div className=\"ldio-913ppwr4n7\">\r\n                    <div></div>\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default Spinner;","import Spinner from \"./spinner\";\r\n\r\nexport default Spinner;","import React from 'react';\r\n\r\nconst AudioInstanceContext = React.createContext();\r\n\r\nexport default AudioInstanceContext;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import AudioInstanceContext from \"./audio-instance-context\";\r\n\r\nexport default AudioInstanceContext;","import React from 'react';\r\nimport './error-indicator.scss';\r\nimport icon from'./error.png';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst ErrorIndicator = () => {\r\n\r\n\r\n    return (\r\n        <div className=\"error__indicator-container\">\r\n            <div className=\"error__indicator__img-container\">\r\n                <img src={icon} alt=\"error\"/>\r\n            </div>\r\n            <div>Unfortunately, there is an error occurred, but we are already on the way to fix it.</div>\r\n            {/*<div>If this message pops up very often, please, message me via <Link to=\"/contact\">contact form</Link>.</div>*/}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ErrorIndicator;","import ErrorIndicator from \"./error-indicator\";\r\n\r\nexport default ErrorIndicator;","import BeatstoreService from \"./beatstore-service\";\r\n\r\nexport default BeatstoreService;","import axios from \"axios\";\r\n\r\nexport default class BeatstoreService {\r\n    baseUrl = process.env.REACT_APP_BACKEND_ASSET_URL + 'beats';\r\n    // getBeats = () => {\r\n    //     return [{\r\n    //         \"id\": 1,\r\n    //         \"audioUrl\": \"/beats/Vacation Cm 135bpm.mp3\",\r\n    //         \"imgUrl\": \"/covers/Sharp G_sharp_m_190bpm.png\",\r\n    //         \"bpm\": 135,\r\n    //         \"isFree\": 0,\r\n    //         \"time\": \"03:35\",\r\n    //         \"name\": \"Vacation\",\r\n    //         \"scale\": \"Cm\",\r\n    //         \"tags\": [\"JackHill\", \"JoshA\", \"Guitar\", \"Chill\", \"Soul\", \"biba\", \"boba\", \"eiqweqwe\", \"qweqweqwe\", \"qweqwe\", \"qweqweqwe\", \"qweqweqweqwe\", \"qweqwe\"]\r\n    //     }, {\r\n    //         \"id\": 2,\r\n    //         \"audioUrl\": \"/beats/Raindrop Gm 139.mp3\",\r\n    //         \"imgUrl\": \"/covers/Sharp G_sharp_m_190bpm.png\",\r\n    //         \"bpm\": 139,\r\n    //         \"isFree\": 0,\r\n    //         \"time\": \"04:05\",\r\n    //         \"name\": \"Raindrop\",\r\n    //         \"scale\": \"Gm\",\r\n    //         \"tags\": [\"Logic\", \"Eminem\", \"Quadeca\", \"Hard\", \"BrokenDrill\"]\r\n    //     }, {\r\n    //         \"id\": 3,\r\n    //         \"audioUrl\": \"/beats/Sharp G_sharp_m_190bpm.mp3\",\r\n    //         \"imgUrl\": \"/covers/Sharp G_sharp_m_190bpm.png\",\r\n    //         \"bpm\": 190,\r\n    //         \"isFree\": 1,\r\n    //         \"time\": \"02:27\",\r\n    //         \"name\": \"Sharp\",\r\n    //         \"scale\": \"G#m\",\r\n    //         \"tags\": [\"Tyga\", \"Tory Lanez\", \"Club\", \"Hard\"]\r\n    //     }];\r\n    // };\r\n    //\r\n    getBeats = async (skip, limit = 10, filter = {}) => {\r\n        return axios.get(this.baseUrl, {\r\n            params: {\r\n                skip,\r\n                limit,\r\n                filter\r\n            },\r\n        });\r\n    };\r\n    getInfo = async () => {\r\n        return axios.get(this.baseUrl + '/info');\r\n    };\r\n\r\n    getBeatById = async (id) => {\r\n        return axios.get(this.baseUrl + `/${id}`);\r\n    }\r\n\r\n    getRandomBeat = async () => {\r\n        return axios.get(this.baseUrl + `/random`);\r\n    }\r\n\r\n\r\n};","import React from 'react';\r\n\r\nimport './spinner-audio.scss';\r\n\r\nconst SpinnerAudio = (props) => {\r\n\r\n    return (\r\n        <div className=\"spinner-audio\">\r\n            <div className=\"loadingio-spinner-rolling-w1s13fr1iws\">\r\n                <div className=\"ldio-6vf8iexp8ye\">\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\nexport default SpinnerAudio;","import SpinnerAudio from \"./spinner-audio\";\r\n\r\nexport default SpinnerAudio;","import React from \"react\";\r\nimport \"./footer.scss\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faYoutube, faInstagram } from \"@fortawesome/free-brands-svg-icons\";\r\nimport {faCircle} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nconst Footer = () => {\r\n\r\n    return (\r\n        <footer>\r\n            <div className=\"footer__wrapper\">\r\n                <div className=\"footer__copyright\">\r\n                    <span>Cherries By</span>\r\n                    <span>Copyright 2020 <FontAwesomeIcon className=\"footer__circle\" icon={faCircle}/> <a\r\n                        href=\"#\">Terms of use</a></span>\r\n                </div>\r\n                <div className=\"footer__links\">\r\n                    <a href=\"youtube\" target=\"_blank\" className=\"youtube\"><img width=\"40\"\r\n                                                                               src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/YouTube_full-color_icon_%282017%29.svg/1200px-YouTube_full-color_icon_%282017%29.svg.png\"\r\n                                                                               alt=\"asd\"/>&nbsp; /cherriesby</a>\r\n                    <a href=\"instagram\" className=\"instagram\"><img width=\"30\"\r\n                                                                   src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Instagram_icon.png/1024px-Instagram_icon.png\"\r\n                                                                   alt=\"asd\"/>&nbsp; /cherriesby</a>\r\n                    <a href=\"instagram\" className=\"instagram\"><img width=\"30\"\r\n                                                                   src=\"https://img.icons8.com/color/48/000000/twitter--v1.png\"\r\n                                                                   alt=\"twitter\"/>&nbsp; /cherriesby</a>\r\n                    <a href=\"instagram\" className=\"instagram\"><img width=\"30\"\r\n                                                                   src=\"https://img.icons8.com/fluent/48/000000/facebook-new.png\"\r\n                                                                   alt=\"twitter\"/>&nbsp; /cherriesby</a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;\r\n","import Footer from \"./footer\";\r\n\r\nexport default Footer;","import axios from \"axios\";\r\n\r\nclass AuthService {\r\n    baseUrl = process.env.REACT_APP_BACKEND_ASSET_URL + 'users';\r\n\r\n    async signup(data) {\r\n        return axios.post(\r\n            this.baseUrl + '/signup',\r\n            data,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n            }\r\n        );\r\n    }\r\n\r\n    async verify(confirmationCode) {\r\n        return axios.post(\r\n            this.baseUrl + '/verify/' + confirmationCode,\r\n            {confirmationCode},\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            });\r\n    }\r\n\r\n    async login(data) {\r\n        return axios.post(\r\n            this.baseUrl + '/login',\r\n            data,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    async updateUser(id, newUserData, token) {\r\n        return axios.patch(this.baseUrl + `/${id}`, newUserData, {\r\n            headers: {\r\n                'Authorization': 'Bearer ' + token\r\n            }\r\n        });\r\n    }\r\n\r\n    async appendToCart(userId, product, token) {\r\n        return axios.post(this.baseUrl + `/${userId}` + '/cart', product, {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        });\r\n    }\r\n\r\n    async removeFromCart(userId, productId, token) {\r\n        return axios.delete(this.baseUrl + `/${userId}` + '/cart' + `/${productId}`, {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        });\r\n    }\r\n\r\n    async googleContinue(tokenId) {\r\n        return axios.post(this.baseUrl + '/continue-google', {tokenId: tokenId});\r\n    }\r\n\r\n    async logout(token) {\r\n        return axios.post(this.baseUrl + '/logout', {}, {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        });\r\n    }\r\n\r\n    async refreshToken(refreshToken) {\r\n        return axios.post(this.baseUrl + '/token', {refreshToken: refreshToken});\r\n    }\r\n\r\n    async removeFromCartOffline(productId, cart) {\r\n        return axios.patch(this.baseUrl + '/cart' + `/${productId}`, {cart: cart});\r\n    }\r\n\r\n    async appendToCartOffline(product, cart) {\r\n        return axios.post(this.baseUrl + '/cart', {cart: cart, product: product});\r\n    }\r\n\r\n    async contact(email, subject, name, message) {\r\n        return axios.post(this.baseUrl + '/contact', {\r\n            email,\r\n            subject,\r\n            name,\r\n            message\r\n        });\r\n    }\r\n\r\n    async getUserDataById(id, token) {\r\n        return axios.get(this.baseUrl + '/data/' + id, {\r\n            headers: {\r\n                'Authorization': 'Bearer ' + token\r\n            }\r\n        });\r\n    }\r\n\r\n    async getUserPurchasesById(id, token) {\r\n        return axios.get(this.baseUrl + '/purchases/' + id, {\r\n            headers: {\r\n                'Authorization': 'Bearer ' + token\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default AuthService;","import axios from \"axios\";\r\n\r\nexport default class LicensesService {\r\n    baseUrl = process.env.REACT_APP_BACKEND_ASSET_URL + 'licenses';\r\n\r\n    async getAllLicenses() {\r\n        return axios.get(this.baseUrl);\r\n    }\r\n\r\n    async getLicenseTemplate(type) {\r\n        return axios.get(this.baseUrl + `/${type}`);\r\n    }\r\n}","import * as actions from '../../constants/redux-action-names';\r\nimport {useContext} from \"react\";\r\nimport AudioInstanceContext from \"../../components/audio-instance-context\";\r\n\r\nconst initialState = {\r\n    isPlaying: false,\r\n    id: null,\r\n    previousId: null,\r\n    // played: 0,\r\n    // loaded: 0\r\n};\r\n\r\nconst audioReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case actions.AUDIO_PLAYED:\r\n            return {\r\n                ...state,\r\n                isPlaying: true,\r\n            };\r\n        case actions.AUDIO_STOPPED:\r\n            return  {\r\n                ...state,\r\n                isPlaying: false,\r\n                previousId: state.id\r\n            };\r\n        case actions.AUDIO_LOADED:\r\n            return {\r\n                id: action.payload,\r\n                previousId: state.id,\r\n                isPlaying: true,\r\n                // played: 0,\r\n                // loaded: 0\r\n            }\r\n        // case actions.AUDIO_LENGTH_PLAYED:\r\n        //     return {\r\n        //         ...state,\r\n        //         played: action.payload\r\n        //     }\r\n        // case actions.AUDIO_LENGTH_LOADED:\r\n        //     return {\r\n        //         ...state,\r\n        //         loaded: action.payload\r\n        //     }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default audioReducer;\r\n"],"sourceRoot":""}