(this.webpackJsonpbeatstore=this.webpackJsonpbeatstore||[]).push([[11],{269:function(e,a,t){"use strict";t.d(a,"e",(function(){return r})),t.d(a,"c",(function(){return l})),t.d(a,"b",(function(){return i})),t.d(a,"a",(function(){return c})),t.d(a,"d",(function(){return s})),t.d(a,"f",(function(){return o}));var n=t(280),r=function(){return{type:"REQUIRE"}},l=function(e){return{type:"MINLENGTH",payload:e}},i=function(){return{type:"EMAIL"}},c=function(){return{type:"CHECKED"}},s=function(e){return{type:"NOT_REQUIRED_BUT_MIN_LENGTH",payload:e}},o=function(e,a){var t,r=!0,l=Object(n.a)(a);try{for(l.s();!(t=l.n()).done;){var i=t.value;if("REQUIRE"===i.type)r=r&&e.trim().length>0;else if("MINLENGTH"===i.type)r=r&&e.trim().length>=i.payload;else if("MAXLENGTH"===i.type)r=r&&e.trim().length<=i.payload;else if("MIN"===i.type)r=r&&+e>=i.payload;else if("MAX"===i.type)r=r&&+e<=i.payload;else if("EMAIL"===i.type){r=r&&/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/.test(e)}else"CHECKED"===i.type?r=e:"NOT_REQUIRED_BUT_MIN_LENGTH"===i.type&&(r=r&&(e.trim().length>=i.payload||0===e.trim().length))}}catch(c){l.e(c)}finally{l.f()}return r}},274:function(e,a,t){"use strict";var n=t(30),r=t(1),l=t(0),i=t.n(l),c=t(269),s=function(e,a){switch(a.type){case"INPUT_CHANGE":return Object(r.a)(Object(r.a)({},e),{},{value:a.payload,isValid:Object(c.f)(a.payload,a.validators)});case"BLUR":return Object(r.a)(Object(r.a)({},e),{},{isTouched:!0});default:return e}},o=function(e){var a=Object(l.useReducer)(s,{value:e.initialValue||"",isValid:e.initialValid||!1,isTouched:!1}),t=Object(n.a)(a,2),r=t[0],c=t[1],o=e.id,u=e.onInput,d=r.value,p=r.isValid,m=r.isTouched;Object(l.useEffect)((function(){e.onInput&&e.onInput(e.id,r.value,r.isValid)}),[o,u,p,d]);var f=function(a){"checkbox"===e.type?(c({type:"INPUT_CHANGE",payload:a.target.checked,validators:e.validators}),e.onChangeHandler()):c({type:"INPUT_CHANGE",payload:a.target.value,validators:e.validators})},v=function(){c({type:"BLUR"})},b=!p&&m?i.a.createElement("p",{className:"input__error-msg"},e.errorText):null;if(e.component){var E=Object(l.cloneElement)(e.component,{id:e.id,onChange:f,onBlur:v,name:e.name,placeholder:e.placeholder,type:e.type,value:r.value});return i.a.createElement(i.a.Fragment,null,E,b)}return i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{id:e.id,onChange:f,onBlur:v,name:e.name,placeholder:e.placeholder,type:e.type,value:r.value}),b)};a.a=o},283:function(e,a,t){},288:function(e,a,t){"use strict";var n=t(1),r=t(30),l=t(0),i=t.n(l),c=(t(283),function(e){var a=i.a.useState(e.value||""),t=Object(r.a)(a,2),l=t[0],c=t[1],s=null;e.value&&l&&(s+=" input-if-default-value"),l&&(s+=" input-if-default-value");var o;["id","onChange","onBlur","name","placeholder","type","value"].every((function(a){return e.hasOwnProperty(a)}))&&(o=e);var u=Object(n.a)(Object(n.a)({},o),{},{onChange:function(a){c(a.target.value),e.onChange&&e.onChange(a)},className:"".concat(e.className," ").concat(!0===e.required?"input-required":"input-non-required"),name:e.name,required:e.required,disabled:e.disabled||!1,type:e.type||"text",onInput:e.onInput||null});return i.a.createElement("div",{className:"input-container ".concat(e.wrapper)},e.textArea?i.a.createElement("textarea",Object.assign({onKeyDown:function(e){e.target.style.height="inherit",e.target.style.height="".concat(e.target.scrollHeight,"px")},style:{resize:"none",padding:"10px"}},u)):i.a.createElement("input",u),i.a.createElement("label",{className:"component-label ".concat(e.labelstyle," ").concat(s)},e.text))});a.a=c},292:function(e,a,t){"use strict";var n=t(30),r=t(93),l=t(1),i=t(0),c=function(e,a){switch(a.type){case"INPUT_CHANGE":var t=!0;for(var n in e.inputs)t=n===a.inputId?t&&a.isValid:t&&e.inputs[n].isValid;if(void 0!==e.confirmed){var i=e.inputs,c=i.password,s=i.confirmedPassword,o=!0;return"password"===a.inputId&&(o=o&&a.value===s.value&&a.value&&s.isValid),"confirmedPassword"===a.inputId&&(o=o&&a.value===c.value&&a.value&&c.isValid),Object(l.a)(Object(l.a)({},e),{},{inputs:Object(l.a)(Object(l.a)({},e.inputs),{},Object(r.a)({},a.inputId,{value:a.value,isValid:a.isValid})),isValid:t,confirmed:o})}return Object(l.a)(Object(l.a)({},e),{},{inputs:Object(l.a)(Object(l.a)({},e.inputs),{},Object(r.a)({},a.inputId,{value:a.value,isValid:a.isValid})),isValid:t});case"SET_DATA":return void 0!==a.confirmed?{inputs:a.inputs,isValid:a.isValid,confirmed:a.confirmed}:{inputs:a.inputs,isValid:a.isValid};default:return e}};a.a=function(e,a,t){var r;r=void 0!==t?{inputs:e,isValid:a,confirmed:t}:{inputs:e,isValid:a};var l=Object(i.useReducer)(c,r),s=Object(n.a)(l,2),o=s[0],u=s[1];return[o,Object(i.useCallback)((function(e,a,t){u({type:"INPUT_CHANGE",value:a,isValid:t,inputId:e})}),[]),Object(i.useCallback)((function(e,a,t){u(void 0!==t?{type:"SET_DATA",inputs:e,isValid:a,confirmed:t}:{type:"SET_DATA",inputs:e,isValid:a})}),[])]}},339:function(e,a,t){"use strict";t(0),t(12),t(25),t(98)},347:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t(0),r=t.n(n),l=(t(25),t(56),t(94)),i=function(e){var a=new l.a;return function(t){return r.a.createElement(e,Object.assign({},t,{authService:a}))}}},455:function(e,a,t){},456:function(e,a,t){},457:function(e,a,t){e.exports=t.p+"static/media/box.0467e5dc.png"},458:function(e,a,t){},507:function(e,a,t){"use strict";t.r(a);var n=t(30),r=t(473),l=t(0),i=t.n(l),c=t(15),s=t(437),o=t.n(s),u=t(493),d=t(73),p=t(495),m=t(502),f=t(496),v=t(499),b=(t(455),t(135)),E=t(494),w=t(288),h=t(274),g=t(55),y=t(25),O=t(292),j=t(269),N=t(347),x=(t(67),t(12)),C=(t(456),Object(N.a)((function(e){e.authService;var a=Object(y.d)((function(e){return e.userReducer})),t=a.processing,r=a.email,c=a.username,s=a.id,o=a.error,u=Object(y.c)(),d=Object(l.useMemo)((function(){return{inputs:{email:{value:r,isValid:!0},username:{value:c,isValid:!0},password:{value:"",isValid:!1},newPassword:{value:"",isValid:!0},newPasswordConfirmed:{value:"",isValid:!0}},isValid:!1}}),[c,r]),p=Object(l.useState)(!1),m=Object(n.a)(p,2),f=m[0],v=m[1],b=Object(O.a)(d.inputs,d.isValid),E=Object(n.a)(b,3),N=E[0],C=E[1],I=(E[2],N.inputs),V=I.newPassword,T=I.newPasswordConfirmed,A=V.value!==T.value?i.a.createElement("p",{className:"user-profile__error-msg"},"Your new password and new confirmed password should be identical"):null,_=!(V.value>6&&T.value>6||0===V.value.length&&0===T.value.length)&&f?i.a.createElement("p",{className:"user-profile__error-msg"},"Your new password should contain at least 6 characters"):null;return t?i.a.createElement(g.a,null):i.a.createElement("div",{className:"user-profile__main"},i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u(Object(x.w)(s,{email:N.inputs.email.value,username:N.inputs.username.value,password:N.inputs.password.value,newPassword:N.inputs.newPassword.value}))},className:"user-profile__container",onBlur:function(e){e.preventDefault(),v(!0)}},i.a.createElement("div",{className:"header"},i.a.createElement("p",{className:"username"},"Welcome to your profile, ",c),i.a.createElement("p",null,"Feel free to change your information.")),i.a.createElement("div",{className:"settings"},i.a.createElement(h.a,{component:i.a.createElement(w.a,{text:"E-mail",className:"input-set",wrapper:"wrapper"}),id:"email",name:"email",type:"text",errorText:"Please enter correct email address",validators:[Object(j.b)(),Object(j.e)()],onInput:C,initialValue:N.inputs.email.value,initialValid:N.inputs.email.isValid}),i.a.createElement(h.a,{component:i.a.createElement(w.a,{text:"Username",className:"input-set",wrapper:"wrapper"}),id:"username",name:"username",type:"text",errorText:"Please enter at least 1 character as username",validators:[Object(j.d)(1)],onInput:C,initialValue:N.inputs.username.value,initialValid:N.inputs.username.isValid}),i.a.createElement(h.a,{component:i.a.createElement(w.a,{text:"Current password",className:"input-set",wrapper:"wrapper"}),id:"password",name:"password",type:"password",errorText:"This field is required to change your data..",validators:[Object(j.e)()],onInput:C}),i.a.createElement("div",{className:"tips"},i.a.createElement("p",{className:"tip-header"},"Change account password"),i.a.createElement("p",null,"In case you don't want to change your password leave blanks below empty")),i.a.createElement("div",{className:"new-password-container"},i.a.createElement(h.a,{component:i.a.createElement(w.a,{text:"New password",className:"input-set",wrapper:"wrapper"}),id:"newPassword",name:"newPassword",type:"password",errorText:"",initialValid:!0,validators:[Object(j.d)(6)],onInput:C}),i.a.createElement(h.a,{component:i.a.createElement(w.a,{text:"Confirm new password",className:"input-set",wrapper:"wrapper"}),id:"newPasswordConfirmed",name:"newPasswordConfirmed",type:"password",errorText:"",initialValid:!0,validators:[Object(j.d)(6)],onInput:C}))),i.a.createElement("button",{type:"submit",disabled:!N.isValid},"Save"),A,_,o?i.a.createElement("span",{className:"user-profile__error-msg"},o.message):null))}))),I=t(505),V=t(350),T=t(497),A=t(457),_=t.n(A),P=(t(458),t(339),t(24)),H=t(22),R=function(){var e=Object(y.d)((function(e){return e.userReducer})).purchased,a=Object(c.g)();return 0===e.length?i.a.createElement("div",{className:"empty-box-warning"},i.a.createElement("img",{src:_.a,alt:"empty box"}),i.a.createElement("p",{className:"empty-cart-caption"},"You have not purchased anything yet.. :c")):i.a.createElement(I.a,{celled:!0,inverted:!0,selectable:!0,className:"purchases-table"},i.a.createElement(I.a.Header,null,i.a.createElement(I.a.Row,null,i.a.createElement(I.a.HeaderCell,null,"TITLE"),i.a.createElement(I.a.HeaderCell,{textAlign:"center"},"BPM"),i.a.createElement(I.a.HeaderCell,{textAlign:"center"},"Scale"),i.a.createElement(I.a.HeaderCell,{textAlign:"center"},"Date"),i.a.createElement(I.a.HeaderCell,{textAlign:"center"},"Price"),i.a.createElement(I.a.HeaderCell,{textAlign:"center"},"License Type"),i.a.createElement(I.a.HeaderCell,{textAlign:"center"},"Links"))),i.a.createElement(I.a.Body,null,e.map((function(e,t){var n=new Date(e.date),r=n.getUTCMonth()+1,l=n.getUTCDate(),c=n.getUTCFullYear()+"/"+r+"/"+l,s="http://ass-server.northeurope.cloudapp.azure.com:80/api/"+e.imgUrl;return i.a.createElement(I.a.Row,{key:e.beatId+e.licenseId+e.orderId+t,className:"purchased-item"},i.a.createElement(I.a.Cell,{textAlign:"left"},i.a.createElement(V.a,{className:"label",ribbon:!0},i.a.createElement("img",{src:s,alt:"cover"})),e.title),i.a.createElement(I.a.Cell,{textAlign:"center"},e.bpm),i.a.createElement(I.a.Cell,{textAlign:"center"},e.scale),i.a.createElement(I.a.Cell,{textAlign:"center"},c),i.a.createElement(I.a.Cell,{textAlign:"center",className:"price-item"},e.price,"$"),i.a.createElement(I.a.Cell,{textAlign:"center"},e.label),i.a.createElement(I.a.Cell,{textAlign:"center"},i.a.createElement(T.a,{className:"drop-down",text:"Files",icon:i.a.createElement(P.a,{className:"icon",icon:H.a}),direction:"left",key:e.beatId+e.licenseId+e.orderId+t+"menu"},i.a.createElement(T.a.Menu,{className:"menu"},e.links.map((function(t,n){return i.a.createElement(T.a.Item,{key:t.label+n+e.beatId+e.licenseId+e.orderId,icon:i.a.createElement(P.a,{className:"icon",icon:H.f}),text:t.label,onClick:function(){return a.push(t.url)}})}))))))}))))},U=(t(92),Object(b.a)({overrides:{MuiPaper:{root:{}},MuiTouchRipple:{root:{text:{textColorcolor:"white"}}},MuiTabs:{overflowX:"visible",root:{overflowX:"visible"},text:{color:"white"},indicator:{textColor:"#ff00c1",backgroundColor:"#ff00c1"}}}})),k=function(e){var a=e.children,t=e.value,n=e.index,l=Object(r.a)(e,["children","value","index"]);return i.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n),style:{overflow:"visible"}},l),t===n&&i.a.createElement(v.a,null,a))},M=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}},D=Object(u.a)((function(e){return{root:{"& .MuiPaper-root":{backgroundColor:"#000000"},backgroundColor:e.palette.background.paper,width:500},tabs:{overflowX:"visible"},overrides:{}}})),L=function(){var e=Object(c.h)(),a=Object(c.g)(),t=Object(y.d)((function(e){return e.userReducer})).loggedIn,r=D(),s=Object(d.a)(),u=i.a.useState(0),v=Object(n.a)(u,2),b=v[0],w=v[1];Object(l.useEffect)((function(){"profile"===e.pathname.split("/").pop()?w(0):"purchases"===e.pathname.split("/").pop()&&w(1)}),[e]);return t?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:r.root+" account-page"},i.a.createElement(E.a,{theme:U},i.a.createElement(p.a,{position:"static",color:"default"},i.a.createElement(m.a,{centered:!0,value:b,onChange:function(e,t){w(t),0===t?a.push("/account/profile"):1===t&&a.push("/account/purchases")},variant:"fullWidth","aria-label":"full width tabs example",className:r.tabs},i.a.createElement(f.a,Object.assign({className:"account-page__tab",label:"Profile"},M(0))),i.a.createElement(f.a,Object.assign({className:"account-page__tab",label:"Purchases"},M(1))))),i.a.createElement(o.a,{axis:"rtl"===s.direction?"x-reverse":"x",index:b,onChangeIndex:function(e){w(e)},slideStyle:{overflow:"visible"}},i.a.createElement(k,{value:b,index:0,dir:s.direction},i.a.createElement(C,null)),i.a.createElement(k,{value:b,index:1,dir:s.direction},i.a.createElement(R,null)))))):i.a.createElement(c.a,{to:"/"})};a.default=L}}]);
//# sourceMappingURL=11.cb1693d7.chunk.js.map